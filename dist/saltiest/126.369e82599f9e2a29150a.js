"use strict";(self.webpackChunksalt=self.webpackChunksalt||[]).push([[126],{46126:function($e,A,d){d.r(A),d.d(A,{FormBuilderModule:function(){return Le}});var g=d(61116),Z=d(63564),C=d(35327),k=d(98057),e=d(57490),P=d(54349),B=function(){function t(){}return t.prototype.get=function(r){var o=this;this.content=r||{};var n="";void 0!==this.content.options&&(n=this.content.options.nullable?"":"required"),void 0!==this.content.html.choices&&(this.choices=this.content.html.choices.reduce(function(a,l){var u={radio:['<div class="radio">','<label><input type="radio" v-model="form.'+o.content.name+'" name="'+o.content.name+'" :value="'+l.value+'"> '+l.text+"</label>","</div>"].join("\n"),checkbox:['<div class="checkbox">','<label><input type="checkbox" v-model="form.'+o.content.name+'" name="'+o.content.name+'" :value="'+l.value+'"> '+l.text+"</label>","</div>"].join("\n"),select:'<option :value="'+l.value+'">'+l.text+"</option>"};return Object.keys(u).forEach(function(m){void 0===a[m]&&(a[m]=[u[m]]),a[m].push(u[m])},{}),a},{radio:[],checkbox:[],select:[]}));var i={html:[""+this.content.html.data],legend:["<legend>"+this.content.html.text+"</legend>"],h1:["<h1>"+this.content.html.text+"</h1>"],h2:["<h2>"+this.content.html.text+"</h2>"],h3:["<h3>"+this.content.html.text+"</h3>"],h4:["<h4>"+this.content.html.text+"</h4>"],h5:["<h5>"+this.content.html.text+"</h5>"],h6:["<h6>"+this.content.html.text+"</h6>"],table:['<table class="table">',""+(this.content.html.fields?this.content.html.fields.map(function(a,l){return"<tr>"+Object.keys(o.content.html.fields[0]).map(function(u,m){return"<td>"+a[u]+"</td>"}).join("")+"</tr>"}).join(""):[]),"</table>"],image:['<img src="'+this.content.html.src+'" class="img-fluid">'],textarea:['<div class="form-group">','<label for="'+this.content.name+'">'+this.content.html.label+"</label>",'<textarea\n                    v-model="form.'+this.content.name+'"\n                    name="'+this.content.name+'"\n                    id="'+this.content.name+'"\n                    class="form-control"\n                    '+(n?"":"required")+"\n                ></textarea>","</div>"],select:['<div class="form-group">','<label for="'+this.content.name+'">'+this.content.html.label+"</label>",'<select\n                    v-model="form.'+this.content.name+'"\n                    name="'+this.content.name+'"\n                    id="'+this.content.name+'"\n                    class="form-control"\n                    '+(n?"":"required")+"\n                >",'<option value="">Selecione</option>',""+(this.choices?this.choices.select.join(""):""),"</select>","</div>"],checkbox:['<div class="form-group">','<label for="'+this.content.name+'">'+this.content.html.label+"</label>",""+(this.choices?this.choices.checkbox.join(""):""),"</div>"],radio:['<div class="form-group">','<label for="'+this.content.name+'">'+this.content.html.label+"</label>",""+(this.choices?this.choices.radio.join(""):""),"</div>"],text:['<div class="form-group">','<label for="'+this.content.name+'">'+this.content.html.label+"</label>",'<input type="text" v-model="form.'+this.content.name+'" class="form-control" name="'+this.content.name+'" id="'+this.content.name+'"  '+n+">","</div>"],number:['<div class="form-group">','<label for="'+this.content.name+'">'+this.content.html.label+"</label>",'<input type="number" v-model="form.'+this.content.name+'" class="form-control" name="'+this.content.name+'" id="'+this.content.name+'" '+n+">","</div>"],date:['<div class="form-group">','<label for="'+this.content.name+'">'+this.content.html.label+"</label>",'<input type="date" v-model="form.'+this.content.name+'" class="form-control" name="'+this.content.name+'" id="'+this.content.name+'" '+n+">","</div>"]};return void 0!==i[this.content.html.tag]?i[this.content.html.tag].join("\n"):""},t.prototype.getTemplate=function(r){var o=this,n=[],i="\n\t",a=[];return r.forEach(function(l,u){n.push('\n<section class="page-'+(u+1)+'">');var m=1;i=o.tabSpace(m),l.rows.forEach(function(c){var v=c.grid.split(" ");n.push(i+'<div class="row">'),m++,i=o.tabSpace(m),c.columns.forEach(function(p,h){n.push(i+'<div class="col-md-'+v[h]+'">'),p.contents.forEach(function(f){"form"===f.html.category&&a.push(f),f.html.grid=v[h],n.push(i+o.get(f))}),n.push(i+"</div>")}),m--,i=o.tabSpace(m),n.push(i+"</div>")}),n.push("</section>")}),"\n        <template>\n            <div>\n                "+n.join("\n")+"\n            </div>\n        </template>\n        <script>\n            export default {\n                data() {\n                    return {\n                        loading: false,\n                        form: {\n                            "+a.map(function(l){return l.name+": ''"})+"\n                        }\n                    }\n                },\n                methods: {\n                    \n                }\n            }\n        <\/script>\n        "},t.prototype.tabSpace=function(r){for(var n="",i=0;i<r;i++)n+="\t";return n},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac=function(o){return new(o||t)},providedIn:"root"}),t}(),Q=d(73357),S=d(66274),Y=d(86310),U=d(81888),O=d(39310),T=d(360),j=d(79996),s=d(11462),E=d(63244),R=d(42693),L=function(){function t(r){this.http=r,this.API_URL="/assets/_mock/tools.json"}return t.prototype.getTools=function(){return this.http.get(this.API_URL)},t.\u0275fac=function(o){return new(o||t)(e.LFG(R.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),F=d(5375),G=function(){return{cursor:"move"}};function H(t,r){if(1&t&&(e.TgZ(0,"div"),e.TgZ(1,"div",11),e.TgZ(2,"div",12),e._UZ(3,"i",13),e.TgZ(4,"strong",14),e._uU(5," GRID"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){var o=e.oxw();e.xp6(1),e.Q6J("hidden",o.f.invalid)("ngStyle",e.DdM(2,G))}}function V(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"* Enter with your grid."),e.qZA())}function D(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"* Allows only numbers (except only zero) and space."),e.qZA())}function z(t,r){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){var o=e.oxw(2);e.xp6(1),e.hij("* Min. Length is ",null==o.gridModel?null:o.gridModel.errors.minlength.requiredLength,".")}}function $(t,r){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){var o=e.oxw(2);e.xp6(1),e.hij("* The sum of the each line must be equals to ",null==o.gridModel.errors?null:o.gridModel.errors.sumBeEqualsTo,".")}}function K(t,r){if(1&t&&(e.TgZ(0,"div",15),e.YNc(1,V,2,0,"div",16),e.YNc(2,D,2,0,"div",16),e.YNc(3,z,2,1,"div",16),e.YNc(4,$,2,1,"div",16),e.qZA()),2&t){var o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.gridModel?null:o.gridModel.hasError("required")),e.xp6(1),e.Q6J("ngIf",null==o.gridModel?null:o.gridModel.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",null==o.gridModel?null:o.gridModel.hasError("minlength")),e.xp6(1),e.Q6J("ngIf",null==o.gridModel?null:o.gridModel.hasError("isSumInvalid"))}}var W=function(){return{cursor:"move"}};function X(t,r){if(1&t&&(e.TgZ(0,"div",21),e.ALo(1,"json"),e.TgZ(2,"div",22),e.TgZ(3,"span",23),e._uU(4),e.qZA(),e.qZA(),e.qZA()),2&t){var o=r.$implicit;e.Q6J("ngStyle",e.DdM(5,W)),e.uIk("data-content",e.lcZ(1,3,o)),e.xp6(4),e.Oqu(o.html.tag)}}var q=function(){return{cursor:"pointer"}},ee=function(){return{}};function te(t,r){if(1&t){var o=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",18),e._uU(2),e.qZA(),e.TgZ(3,"div",19),e.NdJ("dragulaModelChange",function(l){return e.CHM(o).$implicit.value=l}),e.YNc(4,X,5,6,"div",20),e.qZA(),e.qZA()}if(2&t){var n=r.$implicit,i=r.index;e.xp6(1),e.Q6J("ngStyle",e.DdM(9,q)),e.uIk("data-toggle","collapse")("data-target","#collapse-"+i),e.xp6(1),e.hij(" ",n.key," "),e.xp6(1),e.MGl("id","collapse-",i,""),e.Q6J("dragulaModel",n.value)("ngClass",e.DdM(10,ee)),e.uIk("data-parent","#accordion"),e.xp6(1),e.Q6J("ngForOf",n.value)}}function oe(t,r){if(1&t&&(e.TgZ(0,"fieldset",17),e.TgZ(1,"legend",4),e._uU(2,"Tools"),e.qZA(),e.YNc(3,te,5,11,"div",6),e.ALo(4,"keyvalue"),e.qZA()),2&t){var o=r.ngIf;e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,1,o))}}var ne=function(t){return{"is-invalid":t}},re=function(){function t(r,o,n){this.formBuilder=r,this.toolService=o,this.modalService=n,this.optionType=1,this.options={size:"lg",backdrop:"static",keyboard:!1,centered:!0}}return t.prototype.ngOnInit=function(){var r=this;this.bootstrap=[{grid:["12","6 6","3 4 5","4 4 4","7 5"].join("\n")}],this.form=this.formBuilder.group({gridModel:[this.bootstrap[0].grid,[s.kI.required,E.d.sumBeEqualsTo(12),s.kI.pattern(/^(\s*(0?[1-9]|[1-9][0-9])+\s*)+$/),s.kI.minLength(2)]]}),this.gridModel.valueChanges.pipe().subscribe(function(o){r.bootstrap[0]={grid:o}}),this.tools$=this.toolService.getTools().pipe((0,j.U)(function(o){return o.tools})),this.pageModel=[{rows:[],name:"Salt - A tool for Lazy Developer"}]},t.prototype.createChoices=function(){this.modalService.open(T.b,this.options)},t.prototype.editChoices=function(r){this.modalService.open(T.b,this.options).componentInstance.content=r},Object.defineProperty(t.prototype,"f",{get:function(){return this.form},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridModel",{get:function(){return this.f.get("gridModel")},enumerable:!1,configurable:!0}),t.\u0275fac=function(o){return new(o||t)(e.Y36(s.qu),e.Y36(L),e.Y36(F.FF))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-form-menu"]],decls:15,vars:12,consts:[[1,"card","bg-white"],[1,"card-body"],[3,"formGroup"],["id","grid-menu",1,"border","border-dark","p-1"],[1,"text-center","w-auto"],["name","bootstrap_container","dragula","rowSortable",1,"menu-row-sortable",3,"dragulaModel","dragulaModelChange"],[4,"ngFor","ngForOf"],[1,"input-group","input-group-sm"],["type","text","formControlName","gridModel","rows","5",1,"form-control","form-control-sm",3,"ngClass","ngStyle"],["class","invalid-feedback",4,"ngIf"],["id","tool-menu","class","border border-dark p-1",4,"ngIf"],[3,"hidden","ngStyle"],[1,"row-handle","p-1","mx-1","mt-1","mb-1","border-bottom","border-dark"],[1,"fa","fa-arrows-alt","fa-1x","row-handle"],[1,"row-handle"],[1,"invalid-feedback"],[4,"ngIf"],["id","tool-menu",1,"border","border-dark","p-1"],[1,"border-bottom","border-dark","p-1","text-uppercase",3,"ngStyle"],["dragula","contents","aria-expanded","true",1,"row","menu-content-sortable","no-gutters","collapse","m-1","show",3,"id","dragulaModel","ngClass","dragulaModelChange"],["class","text-white content-handle menu-content-sortable col-md-12 ",3,"ngStyle",4,"ngFor","ngForOf"],[1,"text-white","content-handle","menu-content-sortable","col-md-12",3,"ngStyle"],[1,"p-1","mx-1","mt-1","border","border-dark","content-handle"],[1,"text-dark","text-capitalize","content-handle"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e.TgZ(3,"fieldset",3),e.TgZ(4,"legend",4),e._uU(5,"Grid System"),e.qZA(),e.TgZ(6,"div",5),e.NdJ("dragulaModelChange",function(a){return n.bootstrap=a}),e.YNc(7,H,6,3,"div",6),e.TgZ(8,"div",7),e._UZ(9,"textarea",8),e.YNc(10,K,5,4,"div",9),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(11,oe,5,3,"fieldset",10),e.ALo(12,"async"),e.TgZ(13,"fieldset"),e._UZ(14,"app-config-choices"),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(4),e.Q6J("dragulaModel",n.bootstrap),e.xp6(1),e.Q6J("ngForOf",n.bootstrap),e.xp6(2),e.Q6J("ngClass",e.VKq(9,ne,null==n.gridModel?null:n.gridModel.invalid))("ngStyle",e.DdM(11,q)),e.xp6(1),e.Q6J("ngIf",(null==n.gridModel?null:n.gridModel.invalid)||(null==n.gridModel?null:n.gridModel.touched)),e.xp6(1),e.Q6J("ngIf",e.lcZ(12,7,n.tools$)))},directives:[s._Y,s.JL,s.sg,Z.sW,g.sg,s.Fj,s.JJ,s.u,g.mk,g.PC,g.O5,T.b],pipes:[g.Ov,g.Nd,g.Ts],styles:[""]}),t}(),ie=d(70035),ae=d(82854);function le(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"NAME is required"),e.qZA())}function se(t,r){if(1&t&&(e.TgZ(0,"div",34),e.YNc(1,le,2,0,"div",10),e.qZA()),2&t){var o=e.oxw(2).index,n=e.oxw().index,i=e.oxw().index,a=e.oxw().index,l=e.oxw();e.xp6(1),e.Q6J("ngIf",null==l.getPagesRowsColumnsContents(a,i,n).at(o).get("name").errors?null:l.getPagesRowsColumnsContents(a,i,n).at(o).get("name").errors.required)}}function ue(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"HTML.LABEL is required"),e.qZA())}function de(t,r){if(1&t&&(e.TgZ(0,"div",34),e.YNc(1,ue,2,0,"div",10),e.qZA()),2&t){var o=e.oxw(2).index,n=e.oxw().index,i=e.oxw().index,a=e.oxw().index,l=e.oxw();e.xp6(1),e.Q6J("ngIf",null==l.getPagesRowsColumnsContents(a,i,n).at(o).get("html.label").errors?null:l.getPagesRowsColumnsContents(a,i,n).at(o).get("html.label").errors.required)}}function me(t,r){if(1&t&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&t){var o=r.$implicit;e.s9C("value",o),e.xp6(1),e.Oqu(o)}}function ge(t,r){if(1&t&&(e.ynx(0),e.YNc(1,me,2,2,"option",35),e.BQk()),2&t){var o=r.ngIf;e.xp6(1),e.Q6J("ngForOf",o)}}function ce(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"HTML.TAG is required"),e.qZA())}function pe(t,r){if(1&t&&(e.TgZ(0,"div",34),e.YNc(1,ce,2,0,"div",10),e.qZA()),2&t){var o=e.oxw(2).index,n=e.oxw().index,i=e.oxw().index,a=e.oxw().index,l=e.oxw();e.xp6(1),e.Q6J("ngIf",null==l.getPagesRowsColumnsContents(a,i,n).at(o).get("html.tag").errors?null:l.getPagesRowsColumnsContents(a,i,n).at(o).get("html.tag").errors.required)}}function fe(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"OPTIONS.NULLABLE is required"),e.qZA())}function ve(t,r){if(1&t&&(e.TgZ(0,"div",34),e.YNc(1,fe,2,0,"div",10),e.qZA()),2&t){var o=e.oxw(2).index,n=e.oxw().index,i=e.oxw().index,a=e.oxw().index,l=e.oxw();e.xp6(1),e.Q6J("ngIf",null==l.getPagesRowsColumnsContents(a,i,n).at(o).get("type.length").errors?null:l.getPagesRowsColumnsContents(a,i,n).at(o).get("type.length").errors.required)}}function he(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"OPTIONS.NULLABLE is required"),e.qZA())}function _e(t,r){if(1&t&&(e.TgZ(0,"div",34),e.YNc(1,he,2,0,"div",10),e.qZA()),2&t){var o=e.oxw(2).index,n=e.oxw().index,i=e.oxw().index,a=e.oxw().index,l=e.oxw();e.xp6(1),e.Q6J("ngIf",null==l.getPagesRowsColumnsContents(a,i,n).at(o).get("options.nullable").errors?null:l.getPagesRowsColumnsContents(a,i,n).at(o).get("options.nullable").errors.required)}}var be=function(t,r){return{"badge-danger":t,"badge-success":r}},Ze=function(){return{cursor:"pointer"}},Ce=function(){return{display:"none"}};function Te(t,r){if(1&t){var o=e.EpF();e.ynx(0),e.TgZ(1,"div",11),e.TgZ(2,"div",12),e.TgZ(3,"div",13),e.TgZ(4,"label",14),e._uU(5,"name"),e.qZA(),e._UZ(6,"input",15),e.YNc(7,se,2,1,"div",16),e.qZA(),e.qZA(),e.TgZ(8,"div",17),e.TgZ(9,"div",13),e.TgZ(10,"label",18),e._uU(11,"html.label"),e.qZA(),e._UZ(12,"input",19),e.YNc(13,de,2,1,"div",16),e.qZA(),e.qZA(),e.TgZ(14,"div",20),e.TgZ(15,"div",13),e.TgZ(16,"label",21),e._uU(17,"html.tag"),e.qZA(),e.TgZ(18,"select",22),e.TgZ(19,"option",23),e._uU(20,"Selecione"),e.qZA(),e.YNc(21,ge,2,1,"ng-container",10),e.ALo(22,"async"),e.qZA(),e.YNc(23,pe,2,1,"div",16),e.qZA(),e.qZA(),e.TgZ(24,"div",24),e.TgZ(25,"div",25),e.TgZ(26,"div",13),e.TgZ(27,"label",26),e._uU(28,"type.length"),e.qZA(),e._UZ(29,"input",27),e.YNc(30,ve,2,1,"div",16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",24),e.TgZ(32,"div",28),e.TgZ(33,"div",13),e.TgZ(34,"label",29),e._uU(35),e._UZ(36,"input",30),e.qZA(),e.YNc(37,_e,2,1,"div",16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",24),e.TgZ(39,"div",31),e.TgZ(40,"button",32),e.NdJ("click",function(){e.CHM(o);var Ge=e.oxw().index,He=e.oxw().index,Ve=e.oxw().index,De=e.oxw().index;return e.oxw().deletePagesRowsColumnsContents(De,Ve,He,Ge)}),e._UZ(41,"i",33),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&t){var m,c,v,p,h,f,w,x,b,N,I,J,n=e.oxw().index,i=e.oxw().index,a=e.oxw().index,l=e.oxw().index,u=e.oxw();e.xp6(6),e.ekj("is-invalid",!(null!=(m=u.getPagesRowsColumnsContents(l,a,i).at(n).get("name"))&&m.valid)),e.xp6(1),e.Q6J("ngIf",!(null!=(c=u.getPagesRowsColumnsContents(l,a,i).at(n).get("name"))&&c.valid)),e.xp6(5),e.ekj("is-invalid",!(null!=(v=u.getPagesRowsColumnsContents(l,a,i).at(n).get("html.label"))&&v.valid)),e.xp6(1),e.Q6J("ngIf",!(null!=(p=u.getPagesRowsColumnsContents(l,a,i).at(n).get("html.label"))&&p.valid)),e.xp6(5),e.ekj("is-invalid",!(null!=(h=u.getPagesRowsColumnsContents(l,a,i).at(n).get("html.tag"))&&h.valid)),e.xp6(3),e.Q6J("ngIf",e.lcZ(22,20,u.tags$)),e.xp6(2),e.Q6J("ngIf",!(null!=(f=u.getPagesRowsColumnsContents(l,a,i).at(n).get("html.tag"))&&f.valid)),e.xp6(6),e.ekj("is-invalid",!(null!=(w=u.getPagesRowsColumnsContents(l,a,i).at(n).get("type.length"))&&w.valid)),e.xp6(1),e.Q6J("ngIf",!(null!=(x=u.getPagesRowsColumnsContents(l,a,i).at(n).get("type.length"))&&x.valid)),e.xp6(4),e.Q6J("ngClass",e.WLB(22,be,null==(b=u.getPagesRowsColumnsContents(l,a,i).at(n).get("options.nullable"))?null:b.value,!(null!=(b=u.getPagesRowsColumnsContents(l,a,i).at(n).get("options.nullable"))&&b.value)))("ngStyle",e.DdM(25,Ze)),e.xp6(1),e.hij(" ",null!=(N=u.getPagesRowsColumnsContents(l,a,i).at(n).get("options.nullable"))&&N.value?"not required":"required"," "),e.xp6(1),e.ekj("is-invalid",!(null!=(I=u.getPagesRowsColumnsContents(l,a,i).at(n).get("options.nullable"))&&I.valid)),e.Q6J("ngStyle",e.DdM(26,Ce)),e.xp6(1),e.Q6J("ngIf",!(null!=(J=u.getPagesRowsColumnsContents(l,a,i).at(n).get("options.nullable"))&&J.valid))}}function ye(t,r){if(1&t&&(e.TgZ(0,"div",7),e.YNc(1,Te,42,27,"ng-container",10),e.qZA()),2&t){var o=r.$implicit;e.Q6J("formGroupName",r.index),e.xp6(1),e.Q6J("ngIf","form"===(null==o.value.html?null:o.value.html.category))}}function we(t,r){if(1&t&&(e.TgZ(0,"div",7),e.TgZ(1,"fieldset",9),e.YNc(2,ye,2,2,"div",6),e.qZA(),e.qZA()),2&t){var o=r.index,n=e.oxw().index,i=e.oxw().index,a=e.oxw();e.Q6J("formGroupName",o),e.xp6(2),e.Q6J("ngForOf",a.getPagesRowsColumnsContents(i,n,o).controls)}}function Ae(t,r){if(1&t&&(e.TgZ(0,"div",7),e.TgZ(1,"fieldset",8),e.YNc(2,we,3,2,"div",6),e.qZA(),e.qZA()),2&t){var o=r.index,n=e.oxw().index,i=e.oxw();e.Q6J("formGroupName",o),e.xp6(2),e.Q6J("ngForOf",i.getPagesRowsColumns(n,o).controls)}}function Fe(t,r){if(1&t&&(e.TgZ(0,"fieldset",3),e.TgZ(1,"legend",4),e._uU(2),e.qZA(),e.TgZ(3,"fieldset",5),e.YNc(4,Ae,3,2,"div",6),e.qZA(),e.qZA()),2&t){var o=r.index,n=e.oxw();e.Q6J("formGroupName",o),e.xp6(2),e.hij("Page ",o+1,""),e.xp6(2),e.Q6J("ngForOf",n.getPagesRows(o).controls)}}var qe=function(){function t(r,o){this.formBuilder=r,this.htmlElementService=o,this.formSubmitAttempt=!1,this.pagesChange=new e.vpe}return t.prototype.ngOnInit=function(){var r=this;this.tags$=this.htmlElementService.getTags(),this.form=this.formBuilder.group({pages:this.formBuilder.array([])}),this.pages.forEach(function(o,n){r.getPages().push(r.createPages());var i=r.getPagesRows(n);o.rows.forEach(function(a,l){i.push(r.createPagesRows());var u=r.getPagesRowsColumns(n,l);a.columns.forEach(function(m,c){u.push(r.createPagesRowsColumns());var v=r.getPagesRowsColumnsContents(n,l,c);m.contents.forEach(function(p,h){if(v.push(r.createPagesRowsColumnsContents()),p&&p.html&&p.html.choices){var f=r.getPagesRowsColumnsContentsChoices(n,l,c,h).get("html.choices");p.html.choices.forEach(function(w){f.push(r.formBuilder.group({text:["",s.kI.required],value:["",s.kI.required]}))})}})})})}),this.getPages().patchValue(this.pages),this.form.valueChanges.subscribe(function(o){r.pagesChange.emit(o.pages)})},t.prototype.ngOnChanges=function(r){},t.prototype.onSubmit=function(){this.formSubmitAttempt=!0,this.f.valid?console.log("form submitted"):this.validateAllFormFields(this.f)},t.prototype.validateAllFormFields=function(r){var o=this;r instanceof s.NI?r.markAsTouched({onlySelf:!0}):r instanceof s.cw?Object.keys(r.controls).forEach(function(i){var a=r.get(i);o.validateAllFormFields(a)}):r instanceof s.Oe&&r.controls.forEach(function(i){return o.validateAllFormFields(i)})},Object.defineProperty(t.prototype,"f",{get:function(){return this.form},enumerable:!1,configurable:!0}),t.prototype.getField=function(r){return this.f.get(r)},t.prototype.getPagesRowsColumnsContents=function(r,o,n){return this.form.get("pages").at(r).get("rows").at(o).get("columns").at(n).get("contents")},t.prototype.getPagesRowsColumnsContentsChoices=function(r,o,n,i){return this.form.get("pages").at(r).get("rows").at(o).get("columns").at(n).get("contents").at(i)},t.prototype.deletePagesRowsColumnsContents=function(r,o,n,i){this.getPagesRowsColumnsContents(r,o,n).removeAt(i)},t.prototype.createPagesRowsColumnsContents=function(){return this.formBuilder.group({name:["",s.kI.required],html:this.formBuilder.group({content_choice_id:["",s.kI.required],label:["",s.kI.required],category:["",s.kI.required],text:["",s.kI.required],tag:["",s.kI.required],choices:this.formBuilder.array([]),class:[""],src:[""],data:[""],required:[""]}),type:this.formBuilder.group({length:["",[s.kI.pattern("^[0-9]+(.[0-9])?$")]]}),options:this.formBuilder.group({nullable:["",s.kI.required]})})},t.prototype.getPagesRowsColumns=function(r,o){return this.form.get("pages").at(r).get("rows").at(o).get("columns")},t.prototype.deletePagesRowsColumns=function(r,o,n){this.getPagesRowsColumns(r,o).removeAt(n)},t.prototype.createPagesRowsColumns=function(){return this.formBuilder.group({contents:this.formBuilder.array([])})},t.prototype.getPagesRows=function(r){return this.form.get("pages").at(r).get("rows")},t.prototype.deletePagesRows=function(r,o){this.getPagesRows(r).removeAt(o)},t.prototype.createPagesRows=function(){return this.formBuilder.group({grid:["",[s.kI.required]],columns:this.formBuilder.array([])})},t.prototype.getPages=function(){return this.form.get("pages")},t.prototype.deletePages=function(r){this.getPages().removeAt(r)},t.prototype.createPages=function(){return this.formBuilder.group({rows:this.formBuilder.array([])})},t.\u0275fac=function(o){return new(o||t)(e.Y36(s.qu),e.Y36(ae.f))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-form-info"]],inputs:{pages:"pages"},outputs:{pagesChange:"pagesChange"},features:[e.TTD],decls:3,vars:2,consts:[[3,"formGroup","ngSubmit"],["formArrayName","pages"],["class","border border-dark p-2",3,"formGroupName",4,"ngFor","ngForOf"],[1,"border","border-dark","p-2",3,"formGroupName"],[1,"w-auto"],["formArrayName","rows"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["formArrayName","columns"],["formArrayName","contents"],[4,"ngIf"],[1,"row"],[1,"col-md-2"],[1,"form-group"],["id","name"],["type","text","formControlName","name","id","name",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["formGroupName","html",1,"col-md-5"],["id","html.label"],["type","text","formControlName","label","id","html.label",1,"form-control"],["formGroupName","html",1,"col-md-2"],["id","html.tag"],["formControlName","tag",1,"form-control"],["value",""],[1,"col-md-1"],["formGroupName","type"],["id","type.length"],["type","text","formControlName","length","id","type.length",1,"form-control"],["formGroupName","options"],[1,"badge","col-md-12",3,"ngClass","ngStyle"],["type","checkbox","formControlName","nullable","id","options.nullable",3,"ngStyle"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],["type","button",1,"btn","btn-outline-danger","btn-sm","btn-block",3,"click"],[1,"far","fa-trash-alt"],[1,"invalid-feedback"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,n){1&o&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(1,"section",1),e.YNc(2,Fe,5,3,"fieldset",2),e.qZA(),e.qZA()),2&o&&(e.Q6J("formGroup",n.form),e.xp6(2),e.Q6J("ngForOf",n.getPages().controls))},directives:[s._Y,s.JL,s.sg,s.CE,g.sg,s.x0,g.O5,s.Fj,s.JJ,s.u,s.EJ,s.YN,s.Kr,g.mk,g.PC,s.Wl],pipes:[g.Ov],styles:[""]}),t}(),_=function(t,r){for(var o=0,n=r.length,i=t.length;o<n;o++,i++)t[i]=r[o];return t};function Me(t,r){if(1&t){var o=e.EpF();e.ynx(0),e.TgZ(1,"div",13),e.TgZ(2,"div",14),e.TgZ(3,"app-create-table-to-json",15),e.NdJ("schemasChange",function(a){return e.CHM(o),e.oxw().getSchemas(a)}),e.qZA(),e._UZ(4,"app-form-menu"),e.qZA(),e.qZA(),e.BQk()}if(2&t){var n=e.oxw();e.xp6(1),e.Q6J("hidden",null==n.config?null:n.config.previewMode)}}function xe(t,r){if(1&t){var o=e.EpF();e.ynx(0),e.TgZ(1,"div",5),e.TgZ(2,"button",16),e.NdJ("click",function(){return e.CHM(o),e.oxw().newPage()}),e._UZ(3,"i",17),e._uU(4," New Page "),e.qZA(),e.qZA(),e.BQk()}}function Ne(t,r){if(1&t){var o=e.EpF();e.ynx(0),e.TgZ(1,"app-form-pages",18),e.NdJ("pagesChange",function(a){return e.CHM(o),e.oxw().getPages(a)}),e.qZA(),e.BQk()}if(2&t){var n=e.oxw();e.xp6(1),e.Q6J("pages",n.pages)}}function Ie(t,r){if(1&t){var o=e.EpF();e.ynx(0),e.TgZ(1,"app-form-info",18),e.NdJ("pagesChange",function(a){return e.CHM(o),e.oxw().pages=a}),e.qZA(),e.BQk()}if(2&t){var n=e.oxw();e.xp6(1),e.Q6J("pages",n.pages)}}var Je=function(t,r){return{"col-md-12":t,"col-md-9":r}},y=function(t){return{"btn-primary":t}},M=function(t){return{"fa-beat fa-2x":t}},ke=function(t){return{"fa-2x fa-beat":t}},Be=[{path:":projectId/edit",component:function(){function t(r,o,n,i,a,l,u,m,c){this.formConfigService=r,this.vueHtmlTemplate=o,this.bootstrapHtmlTemplate=n,this.projectService=i,this.homeService=a,this.pageService=l,this.route=u,this.ngxLoader=m,this.cdRef=c,this.tableName="",this.isTabAlreadyOpen=!1,this.previewMode=!1}return t.prototype.ngOnInit=function(){var r=this;this.route.params.subscribe(function(o){r.project_id=o.projectId}),this.tabNumber=1,this.previewMode=!1,this.preview(),this.config={previewMode:this.previewMode},this.loadFormBuilder()},t.prototype.loadFormBuilder=function(){var r=this;this.subs=this.homeService.getHome().subscribe(function(o){r.pages=o})},t.prototype.ngAfterContentChecked=function(){this.cdRef.detectChanges()},t.prototype.newPage=function(){this.pages=_(_([],this.pages),[{name:"Page "+(this.pages.length+1),rows:[]}])},t.prototype.preview=function(){this.config={previewMode:this.previewMode},this.formConfigService.setConfig(this.config)},t.prototype.getPages=function(r){this.pages=r},t.prototype.getTemplate=function(){return this.bootstrapHtmlTemplate.getTemplate(this.pages?this.pages:[])},t.prototype.getSchemas=function(r){var o=this,n=[];r.forEach(function(i){o.tableName=i.name,n.push(i.pages)}),this.pages=_(_([],this.pages),n)},t.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},t.\u0275fac=function(o){return new(o||t)(e.Y36(P.k),e.Y36(B),e.Y36(Q.U),e.Y36(k.Y),e.Y36(S.Y),e.Y36(Y.P),e.Y36(C.gz),e.Y36(U.LA),e.Y36(e.sBO))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-form-builder"]],decls:25,vars:27,consts:[[1,"tab-content"],[1,"row","no-gutters"],[4,"ngIf"],[3,"ngClass"],[1,"sticky-top"],["role","group",1,"btn-group","d-flex","bg-white"],[1,"btn","border-dark","btn-md",3,"ngClass","click"],[1,"fas","fa-edit","fa-1x",3,"ngClass"],[1,"fa","fa-eye","fa-1x",3,"ngClass"],[1,"mt-3"],[1,"card"],[1,"card-body"],["rows","40",1,"form-control"],[1,"col-md-3",3,"hidden"],[1,"sticky-top","scrollbar-near-moon","thin","square"],[3,"schemasChange"],[1,"btn","btn-md","btn-outline-dark",3,"click"],[1,"fa","fa-file"],[3,"pages","pagesChange"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,Me,5,1,"ng-container",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"button",6),e.NdJ("click",function(){return n.tabNumber=1,n.previewMode=!1,n.preview()}),e._UZ(7,"i",7),e._uU(8," Editor "),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){return n.previewMode=!n.previewMode,n.preview(),n.tabNumber=1}),e._UZ(10,"i",8),e._uU(11," Preview "),e.qZA(),e.TgZ(12,"button",6),e.NdJ("click",function(){return n.tabNumber=2,n.previewMode=!1,n.preview()}),e._UZ(13,"i",7),e._uU(14," Faster entry "),e.qZA(),e.qZA(),e.YNc(15,xe,5,0,"ng-container",2),e.qZA(),e.YNc(16,Ne,2,1,"ng-container",2),e.YNc(17,Ie,2,1,"ng-container",2),e.TgZ(18,"div",9),e.TgZ(19,"div",10),e.TgZ(20,"div",11),e.TgZ(21,"h1"),e._uU(22,"VIEW"),e.qZA(),e.TgZ(23,"textarea",12),e._uU(24),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Q6J("ngIf",1==n.tabNumber),e.xp6(1),e.Q6J("ngClass",e.WLB(12,Je,(null==n.config?null:n.config.previewMode)||2==n.tabNumber,!(null!=n.config&&n.config.previewMode))),e.xp6(3),e.Q6J("ngClass",e.VKq(15,y,1==n.tabNumber&&!n.previewMode)),e.xp6(1),e.Q6J("ngClass",e.VKq(17,M,1==n.tabNumber&&!n.previewMode)),e.xp6(2),e.Q6J("ngClass",e.VKq(19,y,n.previewMode)),e.xp6(1),e.Q6J("ngClass",e.VKq(21,ke,n.previewMode)),e.xp6(2),e.Q6J("ngClass",e.VKq(23,y,2==n.tabNumber)),e.xp6(1),e.Q6J("ngClass",e.VKq(25,M,2==n.tabNumber)),e.xp6(2),e.Q6J("ngIf",!n.previewMode&&2!=n.tabNumber),e.xp6(1),e.Q6J("ngIf",1==n.tabNumber),e.xp6(1),e.Q6J("ngIf",2==n.tabNumber),e.xp6(7),e.hij("                            ",n.getTemplate(),"\n                        "))},directives:[g.O5,g.mk,O.dJ,re,ie.y,qe],styles:[".square[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:0!important}.square[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0!important}.thin[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px!important}.scrollbar-near-moon[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.1);background-color:#f5f5f5;border-radius:10px}.scrollbar-near-moon[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;background-color:#f5f5f5}.scrollbar-near-moon[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.1);background-image:linear-gradient(to top,#34d8ed 0%,#349aed 100%)}.scrollbar-near-moon[_ngcontent-%COMP%]{height:100vh;overflow-y:scroll}"],changeDetection:0}),t}()}],Qe=function(){function t(){}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[C.Bz.forChild(Be)],C.Bz]}),t}(),Se=d(68264),Ye=d(84775),Ue=function(){function t(){}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.ez,s.u5,s.UX]]}),t}(),Oe=d(7426),je=d(63725),Ee=d(75425),Re=d(79398),Le=function(){function t(){}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[],imports:[[g.ez,Z.qE,Re.r,Qe,Oe.g,Ye.m,Se.V,Ue,je.ConfigChoicesModule,Ee.m,F.dT],Z.qE]}),t}()}}]);