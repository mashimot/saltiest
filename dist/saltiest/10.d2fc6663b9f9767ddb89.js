(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"6WmV":function(t,n,e){"use strict";e.r(n);var l=e("CcnG"),i=function(){return function(){}}(),a=e("pMnS"),u=e("Ip0R"),r=e("f1Dr"),s=e("IiKd"),o=function(){function t(){}return t.prototype.transform=function(t,n){if(void 0!==t&&""!=t.trim()){var e=t.replace(/_(\w)/g,(function(t){return t.toUpperCase()})).replace(/_/g,"");return(e.charAt(0).toUpperCase()+e.slice(1)).trim()}return""},t}(),c=function(){function t(){this.tableName="",this.mysql={INT:"integer('#columnName')#unsigned",BIGINT:"bigInteger('#columnName')#unsigned",BLOB:"binary",BOOLEAN:"boolean",CHAR:"char('#columnName', #length)",DATE:"date('#columnName')",DATETIME:"dateTime('#columnName')",DECIMAL:"decimal('#columnName', #total_digits_comma_decimal_digits)#unsigned",DOUBLE:"double('#columnName', #total_digits_comma_decimal_digits)",ENUM:"enum('#columnName', #array)",FLOAT:"float('#columnName', #total_digits_comma_decimal_digits)",GEOMETRY:"geometry('#columnName')",GEOMETRYCOLLECTION:"geometryCollection('#columnName')",INTEGER:"integer('#columnName')#unsigned",IP:"ipAddress('#columnName')",JSON:"json('#columnName')",JSONB:"jsonb('#columnName')",LINESTRING:"lineString('#columnName')",LONGTEXT:"longText('#columnName')",MAC:"macAddress('#columnName')",MEDIUMINT:"mediumInteger('#columnName')#unsigned",MEDIUMTEXT:"mediumText('#columnName')",MULTILINESTRING:"multiLineString('#columnName')",MULTIPOINT:"multiPoint('#columnName')",MULTIPOLYGON:"multiPolygon('#columnName')",morphs:"nullableMorphs('#columnName')",nullable:"nullableUuidMorphs('#columnName')",timestamps:"nullableTimestamps()",POINT:"point('#columnName')",POLYGON:"polygon('#columnName')",SET:"set('#columnName', #array)",SMALLINT:"smallInteger('#columnName')#unsigned",VARCHAR:"string('#columnName', #length)",TEXT:"text('#columnName')",TIME:"time('#columnName')",TIMESTAMP:"timestamp('#columnName')",TINYINT:"tinyInteger('#columnName')#unsigned",UUID:"uuid('#columnName')",YEAR:"year('#columnName')"},this.schema=[]}return t.prototype.setParams=function(t){this.content=t},t.prototype.setSchema=function(t){this.schema=t},t.prototype.getRules=function(){var t={radio:["nullable"],checkbox:["nullable"],select:["nullable"],number:["nullable","numeric"],date:["nullable",'date_format:"d/m/Y"'],text:["nullable","string"],textarea:["nullable","string"]},n=this.content.html.tag.toLowerCase();if(void 0!==t[n]){t[n][0]=this.isRequired(),t[n].push(this.size());var e=t[n].filter((function(t){return""!=t&&null!=t}));return['"'+this.content.name+'" => '+JSON.stringify(e)].join(",")}return[this.content.name+" => "+JSON.stringify(t[n])].join(",")},t.prototype.size=function(){if(this.content&&this.content.type&&this.content.type.length){var t=this.content.type.length;if(null!=t&&""!=t)return{number:"digits_between:1,"+t,date:"max:"+t,text:"max:"+t,radio:"max:"+t,checkbox:"max:"+t,select:"max:"+t,textarea:"max:"+t}[this.content.html.tag]}return null},t.prototype.get=function(){var t=this;return this.schema.init={fillable:[],rules:[],attributes:[],request:[]},this.schema.data.length>0&&this.schema.data.forEach((function(n){t.setParams(n),t.schema.init.fillable.push(n.definition.name),t.schema.init.request.push('"'+n.name+'" => $request->'+n.name),t.schema.init.attributes.push("'"+n.name+"' => '"+n.html.label+"'"),t.schema.init.rules.push(t.getRules())})),{framework:{validator:this.validator(),controller:this.controller(),model:this.model(),migration:this.migration()}}},t.prototype.model=function(){return"\n\t\t<?php\n\n\t\tnamespace App;\n\t\t\n\t\tuse Illuminate\\Database\\Eloquent\\Model;\n\t \n\t\tclass "+this.schema.name+" extends Model {\n\t\t\tprotected $table      = '"+this.schema.name+"';\n\t\t\tprotected $primaryKey = "+(void 0!==this.schema.primary_key?this.schema.primary_key.length>1?"[this.schema.primary_key]":"this.schema.primary_key[0]":"")+";\n\t\t\tpublic $incrementing  = true; \n\t\t\t\n\t\t\tprotected $fillable = [\n\t\t\t\t"+this.schema.data.map((function(t){return"'"+t.name+"'"}))+"\n\t\t\t];\n\t\t}\n\t\t"},t.prototype.controller=function(){return"\n\t\t<?php\n\n\t\tnamespace App\\Http\\Controllers;\n\t\t\n\t\tuse Illuminate\\Http\\Request;\n\t\tuse App\\"+this.schema.name+";\n\t\tuse App\\Http\\Requests\\"+this.schema.name+"Request;\n\n\t\tclass "+this.schema.name+"Controller extends Controller\n\t\t{\n\t\t\t/**\n\t\t\t* Display a listing of the resource.\n\t\t\t*\n\t\t\t* @return \\Illuminate\\Http\\Response\n\t\t\t*/\n\t\t\tpublic function index()\n\t\t\t{\n\t\t\t\t//\n\t\t\t\t$result = "+this.schema.name+"::all();\n\n\t\t\t\treturn view('"+this.schema.name+".index', compact('result'));\n\t\t\t}\n\t\t\n\t\t\t/**\n\t\t\t* Show the form for creating a new resource.\n\t\t\t*\n\t\t\t* @return \\Illuminate\\Http\\Response\n\t\t\t*/\n\t\t\tpublic function create()\n\t\t\t{\n\t\t\t\t//\n\t\t\t\treturn view('"+this.schema.name+".create');\n\t\t\t}\n\t\t\n\t\t\t/**\n\t\t\t* Store a newly created resource in storage.\n\t\t\t*\n\t\t\t* @param  \\Illuminate\\Http\\Request  $request\n\t\t\t* @return \\Illuminate\\Http\\Response\n\t\t\t*/\n\t\t\tpublic function store("+this.schema.name+"Request $request)\n\t\t\t{\n\t\t\t\t//\n\t\t\t\t$r = "+this.schema.name+"::create([\n\t\t\t\t\t"+this.schema.init.request.join("\n")+"\n\t\t\t\t]);\n\n\t\t\t\treturn response()\n\t\t\t\t\t->route('"+this.schema.name+".create')\n\t\t\t\t\t->json([\n\t\t\t\t\t\t'success' => true\n\t\t\t\t\t]);\n\t\t\t}\n\t\t\n\t\t\t/**\n\t\t\t* Display the specified resource.\n\t\t\t*\n\t\t\t* @param  int  $id\n\t\t\t* @return \\Illuminate\\Http\\Response\n\t\t\t*/\n\t\t\tpublic function show($id)\n\t\t\t{\n\t\t\t\t//\n\t\t\t\t$result = "+this.schema.name+"::find($id);\n\n\t\t\t\treturn view('"+this.schema.name+".show', compact('result'));\n\t\t\t}\n\t\t\n\t\t\t/**\n\t\t\t* Show the form for editing the specified resource.\n\t\t\t*\n\t\t\t* @param  int  $id\n\t\t\t* @return \\Illuminate\\Http\\Response\n\t\t\t*/\n\t\t\tpublic function edit($id)\n\t\t\t{\n\t\t\t\t//\n\t\t\t\t$result = "+this.schema.name+"::find($id);\n\n\t\t\t\treturn view('"+this.schema.name+".edit', compact('result'));\n\t\t\t}\n\t\t\n\t\t\t/**\n\t\t\t* Update the specified resource in storage.\n\t\t\t*\n\t\t\t* @param  \\Illuminate\\Http\\Request $request\n\t\t\t* @param  int  $id\n\t\t\t* @return \\Illuminate\\Http\\Response\n\t\t\t*/\n\t\t\tpublic function update("+this.schema.name+"Request $request, $id)\n\t\t\t{\n\t\t\t\t//\n\t\t\t\t$result = "+this.schema.name+"::find($id);\n\t\t\t\t\t\t->update(\n\t\t\t\t\t\t\t"+this.schema.init.request.join("\n")+"\n\t\t\t\t\t\t);\n\t\t\t}\n\t\t\n\t\t\t/**\n\t\t\t* Remove the specified resource from storage.\n\t\t\t*\n\t\t\t* @param  int  $id\n\t\t\t* @return \\Illuminate\\Http\\Response\n\t\t\t*/\n\t\t\tpublic function destroy($id)\n\t\t\t{\n\t\t\t\t//\n\t\t\t\t$result = "+this.schema.name+"::find($id);\n\t\t\t\t$result->delete();\n\t\t\n\t\t\t\treturn redirect()\n\t\t\t\t\t->route('"+this.schema.name+".show', $id)\n\t\t\t\t\t->with('success', true);\n\t\t\t}\n\t\t}\t\t\n\t\t"},t.prototype.validator=function(){return"\n\t\t/**\n\t\t * Determine if the user is authorized to make this request.\n\t\t *\n\t\t * @return bool\n\t\t*/\n\t\tpublic function authorize(){\n\t\t\treturn true;\n\t\t}\n\t\n\t\tpublic function rules(){\n\t\t\t$rules = [\n\t\t\t\t"+this.schema.init.rules.join("\n")+"\n\t\t\t];\n\t\t\n\t\t\treturn $rules;\n\t\t}\n\t\n\t\t/**\n\t\t * Get the validation rules that apply to the request.\n\t\t *\n\t\t * @return array\n\t\t */\n\t\tpublic function attributes(){\n\t\t\t$attributes = [\n\t\t\t\t"+this.schema.init.attributes.join("\n")+"\n\t\t\t];\n\t\t\treturn $attributes;\n\t\t}\t\t\n\t\t"},t.prototype.migration=function(){var t=this,n=[],e={INT:"increments('#columnName')",BIGINT:"bigIncrements('#columnName')",MEDIUMINT:"mediumIncrements('#columnName')",SMALLINT:"smallIncrements('#columnName')",TINYINT:"tinyIncrements('#columnName')"},l=this.schema.name;if(n=this.schema.data.map((function(n){var l="",i="",a="",u=n,r=u.type.datatype.toUpperCase(),s=t.mysql[u.type.datatype.toUpperCase()];return void 0===(s=s.replace(/#unsigned/g,""))&&(s=r+"('#columnName')"),u.options&&u.options.autoincrement&&Object.keys(e).forEach((function(t){r==t&&(s=e[t])})),s&&(s=s.replace(/#columnName/g,u.name)),u.options&&(u.options.nullable&&(i="->nullable()"),u.options.unsigned&&(a="->unsigned()")),u.type&&(u.type.values&&(l=JSON.stringify(u.type.values),s=s.replace(/#array/g,l)),u.type.length&&""!=u.type.length&&(s=s.replace(/#length/g,u.type.length)),(u.type.decimals||u.type.digits)&&(s=s.replace(/#total_digits_comma_decimal_digits/g,u.type.digits+", "+u.type.decimals))),"$table->"+s+a+i+";"})),this.schema.primary_key&&this.schema.primary_key.length>0){var i=this.schema.primary_key.map((function(t){return t.column}));n.push("$table->primary("+JSON.stringify(i)+")")}if(this.schema.unirque_keys&&this.schema.unirque_keys.length>0){var a=[];this.schema.unirque_keys.forEach((function(t){t.columns.map((function(t){return a.push(t.column)}))})),n.push("$table->unique("+JSON.stringify(a)+");")}return this.schema.foreign_keys&&this.schema.foreign_keys.length>0&&this.schema.foreign_keys.forEach((function(t){var e="",l="";t.columns.forEach((function(t){e="foreign('"+t.column+"')"})),t.reference.columns.forEach((function(n){l="references('"+n.column+"')->on('"+t.reference.table+"')"})),n.push("$table->"+e+"->"+l)})),"\n\t\t\t<?php\n\n\t\t\tuse IlluminateSupportFacadesSchema;\n\t\t\tuse IlluminateDatabaseSchemaBlueprint;\n\t\t\tuse IlluminateDatabaseMigrationsMigration;\n\t\t\t\n\t\t\tclass Create"+l+"Table extends Migration\n\t\t\t{\n\t\t\t\t/**\n\t\t\t\t * Run the migrations.\n\t\t\t\t *\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t\t\tpublic function up()\n\t\t\t\t{\n\t\t\t\t\t\n\t\tSchema::create('"+l+"', function (Blueprint $table) {\n\t\t\t"+n.join("\n")+"\n\t\t});\n\t\t\t\t}\n\t\t\t\n\t\t\t\t/**\n\t\t\t\t * Reverse the migrations.\n\t\t\t\t *\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t\t\tpublic function down()\n\t\t\t\t{\n\t\t\t\t\tSchema::drop('"+l+"');\n\t\t\t\t}\n\t\t\t}"},t.prototype.isRequired=function(){return this.content&&this.content.options?this.content.options.nullable?"nullable":"required":"nullable"},t.prototype.setTableName=function(t){this.tableName=t},t.prototype.getMessages=function(){return this.messages},t.ngInjectableDef=l.ac({factory:function(){return new t},token:t,providedIn:"root"}),t}(),m=function(){function t(t,n){this.snakeCaseToCamelCase=t,this.laravel=n}return t.prototype.ngOnInit=function(){},t.prototype.getSchemas=function(t){var n=this;this.schemas=t,this.schemas.map((function(t){return n.laravel.setSchema(t),t.framework=n.laravel.get().framework,t})),console.log(this.schemas)},t}(),h=l.yb({encapsulation:0,styles:[[""]],data:{}});function p(t){return l.Wb(0,[(t()(),l.Ab(0,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(t()(),l.Ab(1,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),l.Ab(2,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),l.Ub(3,null,["",""])),(t()(),l.Ab(4,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),l.Ab(5,0,null,null,1,"textarea",[["class","form-control"],["cols","30"],["rows","10"]],null,null,null,null,null)),(t()(),l.Ub(6,null,["",""]))],null,(function(t,n){t(n,3,0,n.context.$implicit.key),t(n,6,0,n.parent.context.$implicit.framework[n.context.$implicit.key])}))}function b(t){return l.Wb(0,[(t()(),l.Ab(0,0,null,null,3,"div",[["class","border mt-2"]],null,null,null,null,null)),(t()(),l.pb(16777216,null,null,2,null,p)),l.zb(2,278528,null,0,u.o,[l.U,l.R,l.v],{ngForOf:[0,"ngForOf"]},null),l.Ob(0,u.j,[l.w])],(function(t,n){t(n,2,0,l.Vb(n,2,0,l.Mb(n,3).transform(n.context.$implicit.framework)))}),null)}function d(t){return l.Wb(0,[(t()(),l.Ab(0,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),l.Ab(1,0,null,null,4,"div",[["class","col-md-8 offset-md-2"]],null,null,null,null,null)),(t()(),l.Ab(2,0,null,null,1,"app-create-table-to-json",[],null,[[null,"schemasChange"]],(function(t,n,e){var l=!0;return"schemasChange"===n&&(l=!1!==t.component.getSchemas(e)&&l),l}),r.b,r.a)),l.zb(3,114688,null,0,s.a,[s.b],null,{schemasChange:"schemasChange"}),(t()(),l.pb(16777216,null,null,1,null,b)),l.zb(5,278528,null,0,u.o,[l.U,l.R,l.v],{ngForOf:[0,"ngForOf"]},null)],(function(t,n){var e=n.component;t(n,3,0),t(n,5,0,e.schemas)}),null)}function f(t){return l.Wb(0,[(t()(),l.Ab(0,0,null,null,2,"app-migration",[],null,null,null,d,h)),l.Rb(512,null,o,o,[]),l.zb(2,114688,null,0,m,[o,c],null,null)],(function(t,n){t(n,2,0)}),null)}var g=l.wb("app-migration",m,f,{},{},[]),y=e("9AJC"),N=e("gIcY"),I=e("4GxJ"),v=e("ZYCi"),T=e("u71o"),$=function(){return function(){}}(),w=e("8ux1");e.d(n,"MigrationModuleNgFactory",(function(){return A}));var A=l.xb(i,[],(function(t){return l.Jb([l.Kb(512,l.l,l.hb,[[8,[a.a,g,y.a,y.b,y.f,y.g,y.c,y.d,y.e]],[3,l.l],l.B]),l.Kb(4608,u.r,u.q,[l.x,[2,u.M]]),l.Kb(4608,N.D,N.D,[]),l.Kb(4608,I.w,I.w,[l.l,l.t,I.mb,I.x]),l.Kb(1073742336,u.c,u.c,[]),l.Kb(1073742336,v.s,v.s,[[2,v.x],[2,v.o]]),l.Kb(1073742336,$,$,[]),l.Kb(1073742336,N.C,N.C,[]),l.Kb(1073742336,N.n,N.n,[]),l.Kb(1073742336,I.c,I.c,[]),l.Kb(1073742336,I.g,I.g,[]),l.Kb(1073742336,I.h,I.h,[]),l.Kb(1073742336,I.l,I.l,[]),l.Kb(1073742336,I.m,I.m,[]),l.Kb(1073742336,I.s,I.s,[]),l.Kb(1073742336,I.u,I.u,[]),l.Kb(1073742336,I.y,I.y,[]),l.Kb(1073742336,I.A,I.A,[]),l.Kb(1073742336,I.E,I.E,[]),l.Kb(1073742336,I.J,I.J,[]),l.Kb(1073742336,I.M,I.M,[]),l.Kb(1073742336,I.P,I.P,[]),l.Kb(1073742336,I.S,I.S,[]),l.Kb(1073742336,I.X,I.X,[]),l.Kb(1073742336,I.ab,I.ab,[]),l.Kb(1073742336,I.bb,I.bb,[]),l.Kb(1073742336,I.cb,I.cb,[]),l.Kb(1073742336,I.z,I.z,[]),l.Kb(1073742336,w.a,w.a,[]),l.Kb(1073742336,i,i,[]),l.Kb(1024,v.m,(function(){return[[{path:"",canActivate:[T.a],component:m}]]}),[])])}))},u71o:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var l=e("6pLk"),i=e("CcnG"),a=e("ZYCi"),u=function(){function t(t,n){this.router=t,this.authService=n}return t.prototype.canActivate=function(t,n){return!!this.authService.isLogged()||(this.router.navigate(["/login"]),!1)},t.ngInjectableDef=i.ac({factory:function(){return new t(i.bc(a.o),i.bc(l.a))},token:t,providedIn:"root"}),t}()}}]);