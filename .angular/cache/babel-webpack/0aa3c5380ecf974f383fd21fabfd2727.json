{"ast":null,"code":"import _classCallCheck from \"C:\\\\dev\\\\saltiest\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\dev\\\\saltiest\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nimport __NG_CLI_RESOURCE__0 from \"./project-form.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./project-form.component.css?ngResource\";\nimport { Component } from '@angular/core';\nimport { ProjectService } from '../../shared/services/project.service';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\n\nvar ProjectFormComponent = /*#__PURE__*/function () {\n  function ProjectFormComponent(projectService, fb, router, route) {\n    _classCallCheck(this, ProjectFormComponent);\n\n    this.projectService = projectService;\n    this.fb = fb;\n    this.router = router;\n    this.route = route;\n  }\n\n  _createClass(ProjectFormComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this = this;\n\n      this.projectForm = this.fb.group({\n        'id': [],\n        'name': ['', [Validators.required]]\n      });\n      this.route.params.subscribe(function (result) {\n        var id = result.id;\n        console.log(result);\n\n        if (!id) {\n          //this.router.navigate(['projects']);\n          return;\n        }\n\n        _this.projectService.getProjectById(id).subscribe(function (res) {\n          if (res.success) {\n            _this.projectForm.patchValue({\n              id: id,\n              name: res.data.name\n            });\n          }\n        });\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit() {\n      var _this2 = this;\n\n      var formValue = this.projectForm.value;\n      var p = this.projectForm.value;\n\n      if (formValue.id) {\n        this.projectService.updateProject(formValue.id, p).subscribe(function (result) {\n          if (result.success) {\n            _this2.router.navigate(['projects', formValue.id, 'edit']);\n          }\n        });\n      } else {\n        this.projectService.storeProject(p).subscribe(function (result) {\n          if (result.success) {\n            _this2.router.navigate(['projects']);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"f\",\n    get: function get() {\n      return this.projectForm.controls;\n    }\n  }]);\n\n  return ProjectFormComponent;\n}();\n\nProjectFormComponent.ctorParameters = function () {\n  return [{\n    type: ProjectService\n  }, {\n    type: FormBuilder\n  }, {\n    type: Router\n  }, {\n    type: ActivatedRoute\n  }];\n};\n\nProjectFormComponent = __decorate([Component({\n  selector: 'app-project-form',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n}), __metadata(\"design:paramtypes\", [ProjectService, FormBuilder, Router, ActivatedRoute])], ProjectFormComponent);\nexport { ProjectFormComponent };","map":{"version":3,"sources":["C:/dev/saltiest/src/app/projects/project-form/project-form.component.ts"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","__NG_CLI_RESOURCE__0","__NG_CLI_RESOURCE__1","Component","ProjectService","FormBuilder","Validators","Router","ActivatedRoute","ProjectFormComponent","projectService","fb","router","route","projectForm","group","required","params","subscribe","result","id","console","log","getProjectById","res","success","patchValue","name","data","formValue","value","p","updateProject","navigate","storeProject","controls","ctorParameters","type","selector","template","styles"],"mappings":";;;AAAA,IAAIA,UAAU,GAAI,QAAQ,KAAKA,UAAd,IAA6B,UAAUC,UAAV,EAAsBC,MAAtB,EAA8BC,GAA9B,EAAmCC,IAAnC,EAAyC;AACnF,MAAIC,CAAC,GAAGC,SAAS,CAACC,MAAlB;AAAA,MAA0BC,CAAC,GAAGH,CAAC,GAAG,CAAJ,GAAQH,MAAR,GAAiBE,IAAI,KAAK,IAAT,GAAgBA,IAAI,GAAGK,MAAM,CAACC,wBAAP,CAAgCR,MAAhC,EAAwCC,GAAxC,CAAvB,GAAsEC,IAArH;AAAA,MAA2HO,CAA3H;AACA,MAAI,OAAOC,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAO,CAACC,QAAf,KAA4B,UAA/D,EAA2EL,CAAC,GAAGI,OAAO,CAACC,QAAR,CAAiBZ,UAAjB,EAA6BC,MAA7B,EAAqCC,GAArC,EAA0CC,IAA1C,CAAJ,CAA3E,KACK,KAAK,IAAIU,CAAC,GAAGb,UAAU,CAACM,MAAX,GAAoB,CAAjC,EAAoCO,CAAC,IAAI,CAAzC,EAA4CA,CAAC,EAA7C;AAAiD,QAAIH,CAAC,GAAGV,UAAU,CAACa,CAAD,CAAlB,EAAuBN,CAAC,GAAG,CAACH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACH,CAAD,CAAT,GAAeH,CAAC,GAAG,CAAJ,GAAQM,CAAC,CAACT,MAAD,EAASC,GAAT,EAAcK,CAAd,CAAT,GAA4BG,CAAC,CAACT,MAAD,EAASC,GAAT,CAA7C,KAA+DK,CAAnE;AAAxE;AACL,SAAOH,CAAC,GAAG,CAAJ,IAASG,CAAT,IAAcC,MAAM,CAACM,cAAP,CAAsBb,MAAtB,EAA8BC,GAA9B,EAAmCK,CAAnC,CAAd,EAAqDA,CAA5D;AACH,CALD;;AAMA,IAAIQ,UAAU,GAAI,QAAQ,KAAKA,UAAd,IAA6B,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAC1D,MAAI,OAAON,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAO,CAACO,QAAf,KAA4B,UAA/D,EAA2E,OAAOP,OAAO,CAACO,QAAR,CAAiBF,CAAjB,EAAoBC,CAApB,CAAP;AAC9E,CAFD;;AAGA,OAAOE,oBAAP,MAAiC,0CAAjC;AACA,OAAOC,oBAAP,MAAiC,yCAAjC;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,SAASC,cAAT,QAA+B,uCAA/B;AACA,SAASC,WAAT,EAAsBC,UAAtB,QAAwC,gBAAxC;AACA,SAASC,MAAT,EAAiBC,cAAjB,QAAuC,iBAAvC;;AACA,IAAIC,oBAAoB;AACpB,gCAAYC,cAAZ,EAA4BC,EAA5B,EAAgCC,MAAhC,EAAwCC,KAAxC,EAA+C;AAAA;;AAC3C,SAAKH,cAAL,GAAsBA,cAAtB;AACA,SAAKC,EAAL,GAAUA,EAAV;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,KAAL,GAAaA,KAAb;AACH;;AANmB;AAAA;AAAA,WAOpB,oBAAW;AAAA;;AACP,WAAKC,WAAL,GAAmB,KAAKH,EAAL,CAAQI,KAAR,CAAc;AAC7B,cAAM,EADuB;AAE7B,gBAAQ,CAAC,EAAD,EAAK,CACLT,UAAU,CAACU,QADN,CAAL;AAFqB,OAAd,CAAnB;AAMA,WAAKH,KAAL,CAAWI,MAAX,CAAkBC,SAAlB,CAA4B,UAAAC,MAAM,EAAI;AAClC,YAAIC,EAAE,GAAGD,MAAM,CAACC,EAAhB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;;AACA,YAAI,CAACC,EAAL,EAAS;AACL;AACA;AACH;;AACD,QAAA,KAAI,CAACV,cAAL,CAAoBa,cAApB,CAAmCH,EAAnC,EACKF,SADL,CACe,UAAAM,GAAG,EAAI;AAClB,cAAIA,GAAG,CAACC,OAAR,EAAiB;AACb,YAAA,KAAI,CAACX,WAAL,CAAiBY,UAAjB,CAA4B;AACxBN,cAAAA,EAAE,EAAEA,EADoB;AAExBO,cAAAA,IAAI,EAAEH,GAAG,CAACI,IAAJ,CAASD;AAFS,aAA5B;AAIH;AACJ,SARD;AASH,OAhBD;AAiBH;AA/BmB;AAAA;AAAA,WAgCpB,oBAAW;AAAA;;AACP,UAAIE,SAAS,GAAG,KAAKf,WAAL,CAAiBgB,KAAjC;AACA,UAAMC,CAAC,GAAG,KAAKjB,WAAL,CAAiBgB,KAA3B;;AACA,UAAID,SAAS,CAACT,EAAd,EAAkB;AACd,aAAKV,cAAL,CAAoBsB,aAApB,CAAkCH,SAAS,CAACT,EAA5C,EAAgDW,CAAhD,EACKb,SADL,CACe,UAAAC,MAAM,EAAI;AACrB,cAAIA,MAAM,CAACM,OAAX,EAAoB;AAChB,YAAA,MAAI,CAACb,MAAL,CAAYqB,QAAZ,CAAqB,CAAC,UAAD,EAAaJ,SAAS,CAACT,EAAvB,EAA2B,MAA3B,CAArB;AACH;AACJ,SALD;AAMH,OAPD,MAQK;AACD,aAAKV,cAAL,CAAoBwB,YAApB,CAAiCH,CAAjC,EACKb,SADL,CACe,UAAAC,MAAM,EAAI;AACrB,cAAIA,MAAM,CAACM,OAAX,EAAoB;AAChB,YAAA,MAAI,CAACb,MAAL,CAAYqB,QAAZ,CAAqB,CAAC,UAAD,CAArB;AACH;AACJ,SALD;AAMH;AACJ;AAnDmB;AAAA;AAAA,SAoDpB,eAAQ;AACJ,aAAO,KAAKnB,WAAL,CAAiBqB,QAAxB;AACH;AAtDmB;;AAAA;AAAA,GAAxB;;AAwDA1B,oBAAoB,CAAC2B,cAArB,GAAsC;AAAA,SAAM,CACxC;AAAEC,IAAAA,IAAI,EAAEjC;AAAR,GADwC,EAExC;AAAEiC,IAAAA,IAAI,EAAEhC;AAAR,GAFwC,EAGxC;AAAEgC,IAAAA,IAAI,EAAE9B;AAAR,GAHwC,EAIxC;AAAE8B,IAAAA,IAAI,EAAE7B;AAAR,GAJwC,CAAN;AAAA,CAAtC;;AAMAC,oBAAoB,GAAG5B,UAAU,CAAC,CAC9BsB,SAAS,CAAC;AACNmC,EAAAA,QAAQ,EAAE,kBADJ;AAENC,EAAAA,QAAQ,EAAEtC,oBAFJ;AAGNuC,EAAAA,MAAM,EAAE,CAACtC,oBAAD;AAHF,CAAD,CADqB,EAM9BL,UAAU,CAAC,mBAAD,EAAsB,CAACO,cAAD,EAC5BC,WAD4B,EAE5BE,MAF4B,EAG5BC,cAH4B,CAAtB,CANoB,CAAD,EAU9BC,oBAV8B,CAAjC;AAWA,SAASA,oBAAT","sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport __NG_CLI_RESOURCE__0 from \"./project-form.component.html?ngResource\";\r\nimport __NG_CLI_RESOURCE__1 from \"./project-form.component.css?ngResource\";\r\nimport { Component } from '@angular/core';\r\nimport { ProjectService } from '../../shared/services/project.service';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nlet ProjectFormComponent = class ProjectFormComponent {\r\n    constructor(projectService, fb, router, route) {\r\n        this.projectService = projectService;\r\n        this.fb = fb;\r\n        this.router = router;\r\n        this.route = route;\r\n    }\r\n    ngOnInit() {\r\n        this.projectForm = this.fb.group({\r\n            'id': [],\r\n            'name': ['', [\r\n                    Validators.required\r\n                ]]\r\n        });\r\n        this.route.params.subscribe(result => {\r\n            let id = result.id;\r\n            console.log(result);\r\n            if (!id) {\r\n                //this.router.navigate(['projects']);\r\n                return;\r\n            }\r\n            this.projectService.getProjectById(id)\r\n                .subscribe(res => {\r\n                if (res.success) {\r\n                    this.projectForm.patchValue({\r\n                        id: id,\r\n                        name: res.data.name\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    }\r\n    onSubmit() {\r\n        let formValue = this.projectForm.value;\r\n        const p = this.projectForm.value;\r\n        if (formValue.id) {\r\n            this.projectService.updateProject(formValue.id, p)\r\n                .subscribe(result => {\r\n                if (result.success) {\r\n                    this.router.navigate(['projects', formValue.id, 'edit']);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            this.projectService.storeProject(p)\r\n                .subscribe(result => {\r\n                if (result.success) {\r\n                    this.router.navigate(['projects']);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    get f() {\r\n        return this.projectForm.controls;\r\n    }\r\n};\r\nProjectFormComponent.ctorParameters = () => [\r\n    { type: ProjectService },\r\n    { type: FormBuilder },\r\n    { type: Router },\r\n    { type: ActivatedRoute }\r\n];\r\nProjectFormComponent = __decorate([\r\n    Component({\r\n        selector: 'app-project-form',\r\n        template: __NG_CLI_RESOURCE__0,\r\n        styles: [__NG_CLI_RESOURCE__1]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [ProjectService,\r\n        FormBuilder,\r\n        Router,\r\n        ActivatedRoute])\r\n], ProjectFormComponent);\r\nexport { ProjectFormComponent };\r\n"]},"metadata":{},"sourceType":"module"}