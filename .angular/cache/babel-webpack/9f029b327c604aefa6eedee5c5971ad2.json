{"ast":null,"code":"import _classCallCheck from \"C:\\\\dev\\\\saltiest\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\dev\\\\saltiest\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { EventEmitter, ElementRef } from '@angular/core';\nimport { CreateTableToJsonService } from '../_services/create-table-to-json.service';\nimport { BootstrapGridSystemService } from '../_services/bootstrap-grid-system.service';\nimport { DatabaseEngine } from '../shared/services/database-engine.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../shared/directives/sum-be-equals-to.directive\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\nvar _c0 = [\"popContent\"];\n\nvar _c1 = function _c1() {\n  return {\n    \"cursor\": \"pointer\"\n  };\n};\n\nfunction CreateTableToJsonComponent_li_14_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 21);\n    i0.ɵɵlistener(\"click\", function CreateTableToJsonComponent_li_14_Template_li_click_0_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r6);\n      var s_r4 = restoredCtx.$implicit;\n      var ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.setDDL(s_r4.database);\n    });\n    i0.ɵɵelement(1, \"img\", 22);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var s_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction0(3, _c1));\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"alt\", s_r4.database.engine);\n    i0.ɵɵproperty(\"src\", s_r4.database.logo, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction CreateTableToJsonComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 23);\n    i0.ɵɵelementStart(2, \"small\", 24);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementStart(4, \"span\", 25);\n    i0.ɵɵelementStart(5, \"span\", 26);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.errors.msg.strBegin, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngbPopover\", ctx_r2.errors.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.errors.msg.strMiddle);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.errors.msg.strEnd, \" \");\n  }\n}\n\nfunction CreateTableToJsonComponent_div_21_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"* Enter with your grid.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CreateTableToJsonComponent_div_21_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"* Allows only numbers and space.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CreateTableToJsonComponent_div_21_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext(2);\n\n    var _r0 = i0.ɵɵreference(1);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"* Min. Length is \", _r0.controls.grid == null ? null : _r0.controls.grid.errors.minlength.requiredLength, \".\");\n  }\n}\n\nfunction CreateTableToJsonComponent_div_21_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext(2);\n\n    var _r0 = i0.ɵɵreference(1);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"* The sum must be equals to \", _r0.controls.grid.errors == null ? null : _r0.controls.grid.errors.sumBeEqualsTo, \".\");\n  }\n}\n\nfunction CreateTableToJsonComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtemplate(1, CreateTableToJsonComponent_div_21_div_1_Template, 2, 0, \"div\", 14);\n    i0.ɵɵtemplate(2, CreateTableToJsonComponent_div_21_div_2_Template, 2, 0, \"div\", 14);\n    i0.ɵɵtemplate(3, CreateTableToJsonComponent_div_21_div_3_Template, 2, 1, \"div\", 14);\n    i0.ɵɵtemplate(4, CreateTableToJsonComponent_div_21_div_4_Template, 2, 1, \"div\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    var _r0 = i0.ɵɵreference(1);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r0.controls.grid == null ? null : _r0.controls.grid.errors == null ? null : _r0.controls.grid.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r0.controls.grid == null ? null : _r0.controls.grid.errors == null ? null : _r0.controls.grid.errors.pattern);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r0.controls.grid == null ? null : _r0.controls.grid.errors == null ? null : _r0.controls.grid.errors.minlength);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r0.controls.grid == null ? null : _r0.controls.grid.errors == null ? null : _r0.controls.grid.errors.isSumInvalid);\n  }\n}\n\nvar _c2 = function _c2(a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\n\nvar _c3 = function _c3() {\n  return {\n    cursor: \"pointer\"\n  };\n};\n\nexport var JoeysWorldTour = /*#__PURE__*/(function () {\n  var JoeysWorldTour = /*#__PURE__*/function () {\n    function JoeysWorldTour() {\n      _classCallCheck(this, JoeysWorldTour);\n\n      this.rules = {\n        plural: {\n          'ns': 'm',\n          'res': 'r',\n          'zes': 'z',\n          'ses': 's',\n          'ais': 'al',\n          'éis': 'el',\n          'óis': 'ol',\n          'uis': 'ul',\n          'ões': 'ão',\n          'x': 'x'\n        },\n        singular: {\n          'm': 'ns',\n          'r': 'es',\n          'z': 'es',\n          's': 'ses',\n          'al': 'ais',\n          'el': 'éis',\n          'ol': 'óis',\n          'ul': 'uis',\n          'ão': 'ões',\n          'x': 'x'\n        }\n      };\n      this.exceptionWords = {\n        'lápis': 'lápis',\n        'atlas': 'atlas',\n        'pires': 'pires',\n        'ônibus': 'ônibus',\n        'vírus': 'vírus'\n      };\n    } //plural to singular\n\n\n    _createClass(JoeysWorldTour, [{\n      key: \"singularize\",\n      value: function singularize() {\n        if (!this.hasWordException()) {\n          for (var pluralKey in this.rules.plural) {\n            var singular = this.rules.plural[pluralKey];\n\n            if (this.word.endsWith(pluralKey)) {\n              return this.word.replace(new RegExp(\"\".concat(pluralKey, \"$\")), singular);\n            } else {\n              var res = this.word.split(\"\");\n              res.pop();\n              return res.join(\"\");\n            }\n          }\n        }\n\n        return this.word;\n      } //singular to plural\n\n    }, {\n      key: \"pluralize\",\n      value: function pluralize() {\n        if (!this.hasWordException()) {\n          for (var singularKey in this.rules.singular) {\n            var plural = this.rules.singular[singularKey];\n\n            if (this.word.endsWith(singularKey)) {\n              return this.word.replace(new RegExp(\"\".concat(singularKey, \"$\")), plural);\n            }\n          }\n        }\n\n        return this.word;\n      }\n    }, {\n      key: \"hasWordException\",\n      value: function hasWordException() {\n        var _this = this;\n\n        var hasWord = Object.keys(this.exceptionWords).filter(function (word) {\n          return word == _this.word;\n        });\n        return hasWord.length > 0 ? true : false;\n      }\n    }, {\n      key: \"setWord\",\n      value: function setWord(word) {\n        this.word = word;\n        return this;\n      }\n    }]);\n\n    return JoeysWorldTour;\n  }();\n\n  JoeysWorldTour.ɵfac = function JoeysWorldTour_Factory(t) {\n    return new (t || JoeysWorldTour)();\n  };\n\n  JoeysWorldTour.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: JoeysWorldTour,\n    factory: JoeysWorldTour.ɵfac,\n    providedIn: 'root'\n  });\n  return JoeysWorldTour;\n})();\nexport var Silabalize = /*#__PURE__*/function () {\n  function Silabalize() {\n    _classCallCheck(this, Silabalize);\n\n    this.vogais = ['a', 'e', 'i', 'o', 'u'];\n    this.word = 'chuva';\n    this.rules = {\n      separam: {\n        hiatos: this.hiatos(),\n        digrafos: ['rr', 'ss', 'sc', 'sç', 'xc']\n      },\n      n_separam: {\n        digrafos: ['ch', 'lh', 'nh', 'gu', 'qu']\n      }\n    };\n  }\n\n  _createClass(Silabalize, [{\n    key: \"hiatos\",\n    value: function hiatos() {\n      var _this2 = this;\n\n      var hiatos = [];\n      this.vogais.forEach(function (v1) {\n        _this2.vogais.forEach(function (v2) {\n          hiatos.push(\"\".concat(v1).concat(v2));\n        });\n      });\n      return hiatos;\n    }\n  }, {\n    key: \"silabalize\",\n    value: function silabalize() {\n      var _this3 = this;\n\n      console.log(this.rules.separam.hiatos);\n      var joeys = [];\n\n      for (var separamKey in this.rules.separam) {\n        var separam = this.rules.separam[separamKey];\n        var v = separam.map(function (w) {\n          if (_this3.word.indexOf(w) != -1) {\n            return _this3.word.indexOf(w);\n          }\n\n          return null;\n        }).filter(function (w) {\n          return w;\n        });\n        joeys.push(v);\n      }\n\n      joeys = Array.prototype.concat.apply([], joeys);\n      var auxWord = this.word.split(\"\");\n      joeys.forEach(function (index) {\n        auxWord.splice(index + 1, 0, \"-\");\n      });\n      var hue = auxWord.join(\"\");\n      console.log(hue);\n    }\n  }, {\n    key: \"setWord\",\n    value: function setWord(word) {\n      this.word = word;\n    }\n  }]);\n\n  return Silabalize;\n}();\nexport var CreateTableToJsonComponent = /*#__PURE__*/(function () {\n  var CreateTableToJsonComponent = /*#__PURE__*/function () {\n    function CreateTableToJsonComponent() {\n      _classCallCheck(this, CreateTableToJsonComponent);\n\n      this.schemasChange = new EventEmitter();\n      this.errors = {};\n      this.gridModel = '4 4 4';\n      this.errors = {};\n    }\n\n    _createClass(CreateTableToJsonComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var database = DatabaseEngine.getDatabaseEngines();\n        this.sql = database;\n        this.options = {\n          database: {\n            engine: 'oracle'\n          }\n        };\n        this.setDDL(this.options.database);\n        var s = new Silabalize();\n        s.silabalize();\n      }\n    }, {\n      key: \"setDDL\",\n      value: function setDDL(database) {\n        var index = this.sql.findIndex(function (item) {\n          return item.database.engine == database.engine;\n        });\n\n        if (index != -1) {\n          this.options = this.sql[index];\n          console.log(this.options);\n        }\n      }\n    }, {\n      key: \"onSubmit\",\n      value: function onSubmit() {}\n    }, {\n      key: \"objectLength\",\n      value: function objectLength() {\n        return Object.keys(this.errors).length;\n      }\n    }, {\n      key: \"createTable\",\n      value: function createTable() {\n        var _this4 = this;\n\n        var ct = new CreateTableToJsonService();\n        var sql = this.sql.find(function (item) {\n          return item.database.engine == _this4.options.database.engine;\n        });\n        ct.setDataBase(sql.database.engine);\n        ct.setSql(sql.ddl);\n        ct.parse();\n        this.errors = ct.getError();\n\n        if (!ct.hasError()) {\n          var schemas = ct.getSchemas();\n          schemas = schemas.map(function (schema) {\n            var bootstrapGridSystem = new BootstrapGridSystemService(schema.data, \"\".concat(_this4.gridModel, \"\\n\"));\n            bootstrapGridSystem.convert();\n            schema.pages = bootstrapGridSystem.getPage();\n            return schema;\n          });\n          this.schemasChange.emit(schemas);\n        }\n      }\n    }]);\n\n    return CreateTableToJsonComponent;\n  }();\n\n  CreateTableToJsonComponent.ɵfac = function CreateTableToJsonComponent_Factory(t) {\n    return new (t || CreateTableToJsonComponent)();\n  };\n\n  CreateTableToJsonComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CreateTableToJsonComponent,\n    selectors: [[\"app-create-table-to-json\"]],\n    viewQuery: function CreateTableToJsonComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        var _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.popContent = _t.first);\n      }\n    },\n    inputs: {\n      tableName: \"tableName\"\n    },\n    outputs: {\n      schemasChange: \"schemasChange\"\n    },\n    decls: 25,\n    vars: 15,\n    consts: [[1, \"card\", 3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"card-header\"], [1, \"text-center\", \"text-bold\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"dropdown\"], [\"href\", \"javascript:void(0)\", \"id\", \"dropdownMenuLink\", \"data-toggle\", \"dropdown\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"btn\", \"btn-link\"], [\"width\", \"50\", \"height\", \"50\", 1, \"mx-auto\", \"w-100\", 3, \"src\"], [\"aria-labelledby\", \"dropdownMenuLink\", 1, \"dropdown-menu\"], [\"class\", \"dropdown-item p-1\", 3, \"ngStyle\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"string\", \"rows\", \"10\", 1, \"form-control\", \"form-control-sm\", \"h-20\", \"mt-4\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [4, \"ngIf\"], [1, \"form-group\", \"mt-1\"], [\"for\", \"form_ct_grid\"], [\"type\", \"text\", \"id\", \"form_ct_grid\", \"name\", \"grid\", \"sumBeEqualsTo\", \"12\", \"minlength\", \"2\", \"pattern\", \"[0-9 \\\\n\\\\t]+\", \"required\", \"\", 1, \"form-control\", \"form-control-sm\", 3, \"ngModel\", \"ngClass\", \"ngStyle\", \"ngModelChange\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [1, \"card-footer\"], [1, \"btn\", \"btn-dark\", \"btn-block\", \"btn-sm\", 3, \"disabled\", \"click\"], [1, \"dropdown-item\", \"p-1\", 3, \"ngStyle\", \"click\"], [\"width\", \"50\", \"height\", \"50\", 1, \"d-block\", \"mx-auto\", 3, \"src\", \"alt\"], [1, \"card\", \"card-body\", \"border-danger\", \"p-3\", \"mt-2\"], [1, \"error\"], [\"triggers\", \"mouseenter:mouseleave\", 3, \"ngbPopover\"], [1, \"text-danger\", \"text-bold\"], [1, \"invalid-feedback\"]],\n    template: function CreateTableToJsonComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0, 1);\n        i0.ɵɵlistener(\"ngSubmit\", function CreateTableToJsonComponent_Template_form_ngSubmit_0_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"h6\", 3);\n        i0.ɵɵtext(4, \"Create Table to Form\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵtext(7, \" Select a Database Engine \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 6);\n        i0.ɵɵelementStart(9, \"div\", 7);\n        i0.ɵɵelementStart(10, \"div\", 8);\n        i0.ɵɵelementStart(11, \"a\", 9);\n        i0.ɵɵelement(12, \"img\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"ul\", 11);\n        i0.ɵɵtemplate(14, CreateTableToJsonComponent_li_14_Template, 2, 4, \"li\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"textarea\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateTableToJsonComponent_Template_textarea_ngModelChange_15_listener($event) {\n          return ctx.options.ddl = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, CreateTableToJsonComponent_div_16_Template, 8, 4, \"div\", 14);\n        i0.ɵɵelementStart(17, \"div\", 15);\n        i0.ɵɵelementStart(18, \"label\", 16);\n        i0.ɵɵtext(19, \"Bootstrap Grid\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"input\", 17);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateTableToJsonComponent_Template_input_ngModelChange_20_listener($event) {\n          return ctx.gridModel = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(21, CreateTableToJsonComponent_div_21_Template, 5, 4, \"div\", 18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 19);\n        i0.ɵɵelementStart(23, \"button\", 20);\n        i0.ɵɵlistener(\"click\", function CreateTableToJsonComponent_Template_button_click_23_listener() {\n          return ctx.createTable();\n        });\n        i0.ɵɵtext(24, \"Generate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        var _r0 = i0.ɵɵreference(1);\n\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"src\", ctx.options.database.logo, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.sql);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.options.ddl)(\"ngClass\", i0.ɵɵpureFunction1(10, _c2, ctx.objectLength() > 0));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.errors && ctx.objectLength() > 0);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.gridModel)(\"ngClass\", i0.ɵɵpureFunction1(12, _c2, _r0.controls.grid == null ? null : _r0.controls.grid.invalid))(\"ngStyle\", i0.ɵɵpureFunction0(14, _c3));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (_r0.controls.grid == null ? null : _r0.controls.grid.invalid) || (_r0.controls.grid == null ? null : _r0.controls.grid.touched));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", _r0.controls.grid == null ? null : _r0.controls.grid.invalid);\n      }\n    },\n    directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.NgForm, i2.NgForOf, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgModel, i2.NgClass, i2.NgIf, i3.SumBeEqualsToDirective, i1.MinLengthValidator, i1.PatternValidator, i1.RequiredValidator, i2.NgStyle, i4.NgbPopover],\n    styles: [\"\"]\n  });\n  return CreateTableToJsonComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}