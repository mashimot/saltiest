{"ast":null,"code":"import _classCallCheck from \"C:\\\\dev\\\\saltiest\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\dev\\\\saltiest\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nimport __NG_CLI_RESOURCE__0 from \"./create-table-to-json.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./create-table-to-json.component.css?ngResource\";\nimport { Component, Input, Output, EventEmitter, ElementRef, ViewChild } from '@angular/core';\nimport { CreateTableToJsonService } from '../_services/create-table-to-json.service';\nimport { BootstrapGridSystemService } from '../_services/bootstrap-grid-system.service';\nimport { DatabaseEngine } from '../shared/services/database-engine.service';\nimport { Injectable } from '@angular/core';\n\nvar JoeysWorldTour = /*#__PURE__*/function () {\n  function JoeysWorldTour() {\n    _classCallCheck(this, JoeysWorldTour);\n\n    this.rules = {\n      plural: {\n        'ns': 'm',\n        'res': 'r',\n        'zes': 'z',\n        'ses': 's',\n        'ais': 'al',\n        'éis': 'el',\n        'óis': 'ol',\n        'uis': 'ul',\n        'ões': 'ão',\n        'x': 'x'\n      },\n      singular: {\n        'm': 'ns',\n        'r': 'es',\n        'z': 'es',\n        's': 'ses',\n        'al': 'ais',\n        'el': 'éis',\n        'ol': 'óis',\n        'ul': 'uis',\n        'ão': 'ões',\n        'x': 'x'\n      }\n    };\n    this.exceptionWords = {\n      'lápis': 'lápis',\n      'atlas': 'atlas',\n      'pires': 'pires',\n      'ônibus': 'ônibus',\n      'vírus': 'vírus'\n    };\n  } //plural to singular\n\n\n  _createClass(JoeysWorldTour, [{\n    key: \"singularize\",\n    value: function singularize() {\n      if (!this.hasWordException()) {\n        for (var pluralKey in this.rules.plural) {\n          var singular = this.rules.plural[pluralKey];\n\n          if (this.word.endsWith(pluralKey)) {\n            return this.word.replace(new RegExp(\"\".concat(pluralKey, \"$\")), singular);\n          } else {\n            var res = this.word.split(\"\");\n            res.pop();\n            return res.join(\"\");\n          }\n        }\n      }\n\n      return this.word;\n    } //singular to plural\n\n  }, {\n    key: \"pluralize\",\n    value: function pluralize() {\n      if (!this.hasWordException()) {\n        for (var singularKey in this.rules.singular) {\n          var plural = this.rules.singular[singularKey];\n\n          if (this.word.endsWith(singularKey)) {\n            return this.word.replace(new RegExp(\"\".concat(singularKey, \"$\")), plural);\n          }\n        }\n      }\n\n      return this.word;\n    }\n  }, {\n    key: \"hasWordException\",\n    value: function hasWordException() {\n      var _this = this;\n\n      var hasWord = Object.keys(this.exceptionWords).filter(function (word) {\n        return word == _this.word;\n      });\n      return hasWord.length > 0 ? true : false;\n    }\n  }, {\n    key: \"setWord\",\n    value: function setWord(word) {\n      this.word = word;\n      return this;\n    }\n  }]);\n\n  return JoeysWorldTour;\n}();\n\nJoeysWorldTour.ctorParameters = function () {\n  return [];\n};\n\nJoeysWorldTour = __decorate([Injectable({\n  providedIn: 'root'\n}), __metadata(\"design:paramtypes\", [])], JoeysWorldTour);\nexport { JoeysWorldTour };\nexport var Silabalize = /*#__PURE__*/function () {\n  function Silabalize() {\n    _classCallCheck(this, Silabalize);\n\n    this.vogais = ['a', 'e', 'i', 'o', 'u'];\n    this.word = 'chuva';\n    this.rules = {\n      separam: {\n        hiatos: this.hiatos(),\n        digrafos: ['rr', 'ss', 'sc', 'sç', 'xc']\n      },\n      n_separam: {\n        digrafos: ['ch', 'lh', 'nh', 'gu', 'qu']\n      }\n    };\n  }\n\n  _createClass(Silabalize, [{\n    key: \"hiatos\",\n    value: function hiatos() {\n      var _this2 = this;\n\n      var hiatos = [];\n      this.vogais.forEach(function (v1) {\n        _this2.vogais.forEach(function (v2) {\n          hiatos.push(\"\".concat(v1).concat(v2));\n        });\n      });\n      return hiatos;\n    }\n  }, {\n    key: \"silabalize\",\n    value: function silabalize() {\n      var _this3 = this;\n\n      console.log(this.rules.separam.hiatos);\n      var joeys = [];\n\n      for (var separamKey in this.rules.separam) {\n        var separam = this.rules.separam[separamKey];\n        var v = separam.map(function (w) {\n          if (_this3.word.indexOf(w) != -1) {\n            return _this3.word.indexOf(w);\n          }\n\n          return null;\n        }).filter(function (w) {\n          return w;\n        });\n        joeys.push(v);\n      }\n\n      joeys = Array.prototype.concat.apply([], joeys);\n      var auxWord = this.word.split(\"\");\n      joeys.forEach(function (index) {\n        auxWord.splice(index + 1, 0, \"-\");\n      });\n      var hue = auxWord.join(\"\");\n      console.log(hue);\n    }\n  }, {\n    key: \"setWord\",\n    value: function setWord(word) {\n      this.word = word;\n    }\n  }]);\n\n  return Silabalize;\n}();\n\nvar CreateTableToJsonComponent = /*#__PURE__*/function () {\n  function CreateTableToJsonComponent() {\n    _classCallCheck(this, CreateTableToJsonComponent);\n\n    this.schemasChange = new EventEmitter();\n    this.errors = {};\n    this.gridModel = '4 4 4';\n    this.errors = {};\n  }\n\n  _createClass(CreateTableToJsonComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var database = DatabaseEngine.getDatabaseEngines();\n      this.sql = database;\n      this.options = {\n        database: {\n          engine: 'oracle'\n        }\n      };\n      this.setDDL(this.options.database);\n      var s = new Silabalize();\n      s.silabalize();\n    }\n  }, {\n    key: \"setDDL\",\n    value: function setDDL(database) {\n      var index = this.sql.findIndex(function (item) {\n        return item.database.engine == database.engine;\n      });\n\n      if (index != -1) {\n        this.options = this.sql[index];\n        console.log(this.options);\n      }\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit() {}\n  }, {\n    key: \"objectLength\",\n    value: function objectLength() {\n      return Object.keys(this.errors).length;\n    }\n  }, {\n    key: \"createTable\",\n    value: function createTable() {\n      var _this4 = this;\n\n      var ct = new CreateTableToJsonService();\n      var sql = this.sql.find(function (item) {\n        return item.database.engine == _this4.options.database.engine;\n      });\n      ct.setDataBase(sql.database.engine);\n      ct.setSql(sql.ddl);\n      ct.parse();\n      this.errors = ct.getError();\n\n      if (!ct.hasError()) {\n        var schemas = ct.getSchemas();\n        schemas = schemas.map(function (schema) {\n          var bootstrapGridSystem = new BootstrapGridSystemService(schema.data, \"\".concat(_this4.gridModel, \"\\n\"));\n          bootstrapGridSystem.convert();\n          schema.pages = bootstrapGridSystem.getPage();\n          return schema;\n        });\n        this.schemasChange.emit(schemas);\n      }\n    }\n  }]);\n\n  return CreateTableToJsonComponent;\n}();\n\nCreateTableToJsonComponent.ctorParameters = function () {\n  return [];\n};\n\nCreateTableToJsonComponent.propDecorators = {\n  tableName: [{\n    type: Input\n  }],\n  schemasChange: [{\n    type: Output\n  }],\n  popContent: [{\n    type: ViewChild,\n    args: ['popContent', {\n      static: false\n    }]\n  }]\n};\nCreateTableToJsonComponent = __decorate([Component({\n  selector: 'app-create-table-to-json',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n}), __metadata(\"design:paramtypes\", [])], CreateTableToJsonComponent);\nexport { CreateTableToJsonComponent };","map":{"version":3,"sources":["C:/dev/saltiest/src/app/create-table-to-json/create-table-to-json.component.ts"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","__NG_CLI_RESOURCE__0","__NG_CLI_RESOURCE__1","Component","Input","Output","EventEmitter","ElementRef","ViewChild","CreateTableToJsonService","BootstrapGridSystemService","DatabaseEngine","Injectable","JoeysWorldTour","rules","plural","singular","exceptionWords","hasWordException","pluralKey","word","endsWith","replace","RegExp","res","split","pop","join","singularKey","hasWord","keys","filter","ctorParameters","providedIn","Silabalize","vogais","separam","hiatos","digrafos","n_separam","forEach","v1","v2","push","console","log","joeys","separamKey","map","w","indexOf","Array","prototype","concat","apply","auxWord","index","splice","hue","CreateTableToJsonComponent","schemasChange","errors","gridModel","database","getDatabaseEngines","sql","options","engine","setDDL","s","silabalize","findIndex","item","ct","find","setDataBase","setSql","ddl","parse","getError","hasError","schemas","getSchemas","schema","bootstrapGridSystem","data","convert","pages","getPage","emit","propDecorators","tableName","type","popContent","args","static","selector","template","styles"],"mappings":"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","sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport __NG_CLI_RESOURCE__0 from \"./create-table-to-json.component.html?ngResource\";\r\nimport __NG_CLI_RESOURCE__1 from \"./create-table-to-json.component.css?ngResource\";\r\nimport { Component, Input, Output, EventEmitter, ElementRef, ViewChild } from '@angular/core';\r\nimport { CreateTableToJsonService } from '../_services/create-table-to-json.service';\r\nimport { BootstrapGridSystemService } from '../_services/bootstrap-grid-system.service';\r\nimport { DatabaseEngine } from '../shared/services/database-engine.service';\r\nimport { Injectable } from '@angular/core';\r\nlet JoeysWorldTour = class JoeysWorldTour {\r\n    constructor() {\r\n        this.rules = {\r\n            plural: {\r\n                'ns': 'm',\r\n                'res': 'r',\r\n                'zes': 'z',\r\n                'ses': 's',\r\n                'ais': 'al',\r\n                'éis': 'el',\r\n                'óis': 'ol',\r\n                'uis': 'ul',\r\n                'ões': 'ão',\r\n                'x': 'x'\r\n            },\r\n            singular: {\r\n                'm': 'ns',\r\n                'r': 'es',\r\n                'z': 'es',\r\n                's': 'ses',\r\n                'al': 'ais',\r\n                'el': 'éis',\r\n                'ol': 'óis',\r\n                'ul': 'uis',\r\n                'ão': 'ões',\r\n                'x': 'x'\r\n            }\r\n        };\r\n        this.exceptionWords = {\r\n            'lápis': 'lápis',\r\n            'atlas': 'atlas',\r\n            'pires': 'pires',\r\n            'ônibus': 'ônibus',\r\n            'vírus': 'vírus'\r\n        };\r\n    }\r\n    //plural to singular\r\n    singularize() {\r\n        if (!this.hasWordException()) {\r\n            for (let pluralKey in this.rules.plural) {\r\n                let singular = this.rules.plural[pluralKey];\r\n                if (this.word.endsWith(pluralKey)) {\r\n                    return this.word.replace(new RegExp(`${pluralKey}$`), singular);\r\n                }\r\n                else {\r\n                    let res = this.word.split(\"\");\r\n                    res.pop();\r\n                    return res.join(\"\");\r\n                }\r\n            }\r\n        }\r\n        return this.word;\r\n    }\r\n    //singular to plural\r\n    pluralize() {\r\n        if (!this.hasWordException()) {\r\n            for (let singularKey in this.rules.singular) {\r\n                let plural = this.rules.singular[singularKey];\r\n                if (this.word.endsWith(singularKey)) {\r\n                    return this.word.replace(new RegExp(`${singularKey}$`), plural);\r\n                }\r\n            }\r\n        }\r\n        return this.word;\r\n    }\r\n    hasWordException() {\r\n        let hasWord = Object.keys(this.exceptionWords)\r\n            .filter(word => word == this.word);\r\n        return (hasWord.length > 0) ? true : false;\r\n    }\r\n    setWord(word) {\r\n        this.word = word;\r\n        return this;\r\n    }\r\n};\r\nJoeysWorldTour.ctorParameters = () => [];\r\nJoeysWorldTour = __decorate([\r\n    Injectable({\r\n        providedIn: 'root'\r\n    }),\r\n    __metadata(\"design:paramtypes\", [])\r\n], JoeysWorldTour);\r\nexport { JoeysWorldTour };\r\nexport class Silabalize {\r\n    constructor() {\r\n        this.vogais = ['a', 'e', 'i', 'o', 'u'];\r\n        this.word = 'chuva';\r\n        this.rules = {\r\n            separam: {\r\n                hiatos: this.hiatos(),\r\n                digrafos: ['rr', 'ss', 'sc', 'sç', 'xc']\r\n            },\r\n            n_separam: {\r\n                digrafos: ['ch', 'lh', 'nh', 'gu', 'qu']\r\n            }\r\n        };\r\n    }\r\n    hiatos() {\r\n        let hiatos = [];\r\n        this.vogais.forEach(v1 => {\r\n            this.vogais.forEach(v2 => {\r\n                hiatos.push(`${v1}${v2}`);\r\n            });\r\n        });\r\n        return hiatos;\r\n    }\r\n    silabalize() {\r\n        console.log(this.rules.separam.hiatos);\r\n        let joeys = [];\r\n        for (let separamKey in this.rules.separam) {\r\n            let separam = this.rules.separam[separamKey];\r\n            let v = separam.map(w => {\r\n                if (this.word.indexOf(w) != -1) {\r\n                    return this.word.indexOf(w);\r\n                }\r\n                return null;\r\n            })\r\n                .filter(w => w);\r\n            joeys.push(v);\r\n        }\r\n        joeys = Array.prototype.concat.apply([], joeys);\r\n        var auxWord = this.word.split(\"\");\r\n        joeys.forEach(index => {\r\n            auxWord.splice(index + 1, 0, \"-\");\r\n        });\r\n        var hue = auxWord.join(\"\");\r\n        console.log(hue);\r\n    }\r\n    setWord(word) {\r\n        this.word = word;\r\n    }\r\n}\r\nlet CreateTableToJsonComponent = class CreateTableToJsonComponent {\r\n    constructor() {\r\n        this.schemasChange = new EventEmitter();\r\n        this.errors = {};\r\n        this.gridModel = '4 4 4';\r\n        this.errors = {};\r\n    }\r\n    ngOnInit() {\r\n        let database = DatabaseEngine.getDatabaseEngines();\r\n        this.sql = database;\r\n        this.options = {\r\n            database: {\r\n                engine: 'oracle'\r\n            }\r\n        };\r\n        this.setDDL(this.options.database);\r\n        let s = new Silabalize;\r\n        s.silabalize();\r\n    }\r\n    setDDL(database) {\r\n        let index = this.sql.findIndex(item => {\r\n            return item.database.engine == database.engine;\r\n        });\r\n        if (index != -1) {\r\n            this.options = this.sql[index];\r\n            console.log(this.options);\r\n        }\r\n    }\r\n    onSubmit() {\r\n    }\r\n    objectLength() {\r\n        return Object.keys(this.errors).length;\r\n    }\r\n    createTable() {\r\n        let ct = new CreateTableToJsonService();\r\n        let sql = this.sql.find(item => {\r\n            return item.database.engine == this.options.database.engine;\r\n        });\r\n        ct.setDataBase(sql.database.engine);\r\n        ct.setSql(sql.ddl);\r\n        ct.parse();\r\n        this.errors = ct.getError();\r\n        if (!ct.hasError()) {\r\n            let schemas = ct.getSchemas();\r\n            schemas = schemas.map(schema => {\r\n                let bootstrapGridSystem = new BootstrapGridSystemService(schema.data, `${this.gridModel}\\n`);\r\n                bootstrapGridSystem.convert();\r\n                schema.pages = bootstrapGridSystem.getPage();\r\n                return schema;\r\n            });\r\n            this.schemasChange.emit(schemas);\r\n        }\r\n    }\r\n};\r\nCreateTableToJsonComponent.ctorParameters = () => [];\r\nCreateTableToJsonComponent.propDecorators = {\r\n    tableName: [{ type: Input }],\r\n    schemasChange: [{ type: Output }],\r\n    popContent: [{ type: ViewChild, args: ['popContent', { static: false },] }]\r\n};\r\nCreateTableToJsonComponent = __decorate([\r\n    Component({\r\n        selector: 'app-create-table-to-json',\r\n        template: __NG_CLI_RESOURCE__0,\r\n        styles: [__NG_CLI_RESOURCE__1]\r\n    }),\r\n    __metadata(\"design:paramtypes\", [])\r\n], CreateTableToJsonComponent);\r\nexport { CreateTableToJsonComponent };\r\n"]},"metadata":{},"sourceType":"module"}