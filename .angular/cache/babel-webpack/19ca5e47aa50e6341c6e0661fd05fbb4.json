{"ast":null,"code":"import _classCallCheck from \"C:\\\\dev\\\\saltiest\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\dev\\\\saltiest\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { TemplateRef, EventEmitter } from '@angular/core';\nimport { FormContentConfigService } from './../../_services/form-content-config.service';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport { NgbModalOptions, NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { ContentService } from 'src/app/shared/services/content.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../_services/form-content-config.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"src/app/shared/services/content.service\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../../form-pages/render-content/render-content.component\";\nimport * as i7 from \"../config/config-general/config-general.component\";\nimport * as i8 from \"../config/config-img/config-img.component\";\nimport * as i9 from \"../config/config-title/config-title.component\";\nimport * as i10 from \"../config/config-html-editor/config-html-editor.component\";\nimport * as i11 from \"../../config-choices/config-choice-form/config-choice-form.component\";\nvar _c0 = [\"modal\"];\n\nfunction FormConfigComponent_form_0_div_9_app_config_general_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-config-general\", 15);\n  }\n\n  if (rf & 2) {\n    var ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"parentFormGroup\", ctx_r3.configForm)(\"content\", ctx_r3.content);\n  }\n}\n\nfunction FormConfigComponent_form_0_div_9_app_config_img_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-config-img\", 15);\n  }\n\n  if (rf & 2) {\n    var ctx_r4 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"parentFormGroup\", ctx_r4.configForm)(\"content\", ctx_r4.content);\n  }\n}\n\nfunction FormConfigComponent_form_0_div_9_app_config_title_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-config-title\", 15);\n  }\n\n  if (rf & 2) {\n    var ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"parentFormGroup\", ctx_r5.configForm)(\"content\", ctx_r5.content);\n  }\n}\n\nfunction FormConfigComponent_form_0_div_9_app_config_html_editor_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-config-html-editor\", 15);\n  }\n\n  if (rf & 2) {\n    var ctx_r6 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"parentFormGroup\", ctx_r6.configForm)(\"content\", ctx_r6.content);\n  }\n}\n\nfunction FormConfigComponent_form_0_div_9_app_config_choice_form_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-config-choice-form\", 15);\n  }\n\n  if (rf & 2) {\n    var ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"parentFormGroup\", ctx_r7.configForm)(\"content\", ctx_r7.content);\n  }\n}\n\nfunction FormConfigComponent_form_0_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelementStart(1, \"div\", 7);\n    i0.ɵɵtemplate(2, FormConfigComponent_form_0_div_9_app_config_general_2_Template, 1, 2, \"app-config-general\", 14);\n    i0.ɵɵtemplate(3, FormConfigComponent_form_0_div_9_app_config_img_3_Template, 1, 2, \"app-config-img\", 14);\n    i0.ɵɵtemplate(4, FormConfigComponent_form_0_div_9_app_config_title_4_Template, 1, 2, \"app-config-title\", 14);\n    i0.ɵɵtemplate(5, FormConfigComponent_form_0_div_9_app_config_html_editor_5_Template, 1, 2, \"app-config-html-editor\", 14);\n    i0.ɵɵtemplate(6, FormConfigComponent_form_0_div_9_app_config_choice_form_6_Template, 1, 2, \"app-config-choice-form\", 14);\n    i0.ɵɵelement(7, \"hr\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var renderComponent_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", renderComponent_r2.componentName === \"app-config-general\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", renderComponent_r2.componentName === \"app-config-img\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", renderComponent_r2.componentName === \"app-config-title\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", renderComponent_r2.componentName === \"app-config-html-editor\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", renderComponent_r2.componentName === \"app-config-choices\");\n  }\n}\n\nfunction FormConfigComponent_form_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 1);\n    i0.ɵɵlistener(\"ngSubmit\", function FormConfigComponent_form_0_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      var ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.register();\n    });\n    i0.ɵɵelementStart(1, \"div\", 2);\n    i0.ɵɵelementStart(2, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function FormConfigComponent_form_0_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r9);\n      var ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.activeModal.dismiss(\"Cross click\");\n    });\n    i0.ɵɵelementStart(3, \"span\", 4);\n    i0.ɵɵtext(4, \"\\xD7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 5);\n    i0.ɵɵelementStart(6, \"div\", 6);\n    i0.ɵɵelementStart(7, \"div\", 7);\n    i0.ɵɵelement(8, \"app-render-content\", 8);\n    i0.ɵɵtemplate(9, FormConfigComponent_form_0_div_9_Template, 8, 5, \"div\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 10);\n    i0.ɵɵelementStart(11, \"div\", 11);\n    i0.ɵɵelementStart(12, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function FormConfigComponent_form_0_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r9);\n      var ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.activeModal.close(\"Close click\");\n    });\n    i0.ɵɵtext(13, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 13);\n    i0.ɵɵtext(15, \"Save\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.configForm);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"content\", ctx_r0.configForm.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.render.components);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.configForm.invalid);\n  }\n}\n\nexport var FormConfigComponent = /*#__PURE__*/(function () {\n  var FormConfigComponent = /*#__PURE__*/function () {\n    function FormConfigComponent(formContentConfig, fb, contentService, activeModal) {\n      _classCallCheck(this, FormConfigComponent);\n\n      this.formContentConfig = formContentConfig;\n      this.fb = fb;\n      this.contentService = contentService;\n      this.activeModal = activeModal;\n      this.emitData = new EventEmitter();\n      this.isClickedChange = new EventEmitter();\n    }\n\n    _createClass(FormConfigComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var tag = this.content.html.tag;\n        this.render = this.formContentConfig.render()[tag];\n        this.configForm = this.fb.group({\n          id: [null],\n          name: [null],\n          html: this.fb.group({\n            'tag': [null],\n            'content_choice_id': [null],\n            'choices': this.fb.array([]),\n            'category': [null],\n            //'fields': [this.content.html.fields],\n            'label': [null],\n            'src': [null],\n            'text': [null],\n            'data': [null]\n          }),\n          'type': this.fb.group({\n            datatype: [null],\n            length: [null]\n          }),\n          'options': this.fb.group({\n            'nullable': [null]\n          })\n        });\n        this.configForm.patchValue(this.content);\n      }\n    }, {\n      key: \"register\",\n      value: function register() {\n        this.emitData.emit(this.configForm.value);\n      }\n    }]);\n\n    return FormConfigComponent;\n  }();\n\n  FormConfigComponent.ɵfac = function FormConfigComponent_Factory(t) {\n    return new (t || FormConfigComponent)(i0.ɵɵdirectiveInject(i1.FormContentConfigService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ContentService), i0.ɵɵdirectiveInject(i4.NgbActiveModal));\n  };\n\n  FormConfigComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FormConfigComponent,\n    selectors: [[\"app-form-config\"]],\n    viewQuery: function FormConfigComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        var _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.modal = _t.first);\n      }\n    },\n    inputs: {\n      content_id: \"content_id\",\n      content: \"content\"\n    },\n    outputs: {\n      emitData: \"emitData\",\n      isClickedChange: \"isClickedChange\"\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"modal-header\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"card\"], [1, \"card-body\"], [3, \"content\"], [\"class\", \"card\", 4, \"ngFor\", \"ngForOf\"], [1, \"modal-footer\"], [1, \"btn-group\", \"float-right\"], [1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-primary\", 3, \"disabled\"], [3, \"parentFormGroup\", \"content\", 4, \"ngIf\"], [3, \"parentFormGroup\", \"content\"]],\n    template: function FormConfigComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, FormConfigComponent_form_0_Template, 16, 4, \"form\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.configForm);\n      }\n    },\n    directives: [i5.NgIf, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i6.RenderContentComponent, i5.NgForOf, i7.ConfigGeneralComponent, i8.ConfigImgComponent, i9.ConfigTitleComponent, i10.ConfigHtmlEditorComponent, i11.ConfigChoiceFormComponent],\n    styles: [\"\"]\n  });\n  return FormConfigComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}