<ng-container *ngIf="pages && pages.length > 0; else pagesEmpty">
    <div 
        dragula="pages"
        [(dragulaModel)]="pages"
    >
        <div
            *ngFor="let page of pages; let pageIndex = index;"
            class="p-2"
            [ngClass]="{ 'border border-dark bg-white text-dark': !config?.previewMode }"
        >
            <div class="row" [hidden]="config?.previewMode">
                <div class="col-md-12 page-handle" [ngStyle]="{ cursor: 'move' }">
                    <div class="float-left">
                        <small class="page-handle" [ngStyle]="{ 'cursor': 'move' }">
                            <i class="fa fa-arrows-alt"></i> page {{ pageIndex + 1 }}
                        </small>
                    </div>
                    <div class="float-right">
                        <small (click)="deletePage(pageIndex)" class="badge btn-outline-danger" [ngStyle]="{ cursor: 'pointer' }">
                            <i class="fas fa-window-close"></i> page {{ pageIndex + 1 }}
                        </small>
                    </div>
                </div>
            </div>            
            <div class="border-bottom border-secondary" [hidden]="config?.previewMode"></div>

            <app-form-rows [(page)]="page" [pageIndex]="pageIndex" [pageId]="page.id"></app-form-rows>
        </div><!--/.ng-repeat-->
    </div>
</ng-container>
<ng-template #pagesEmpty>
    <div class="alert alert-danger">
        Add a New Page
    </div>
</ng-template>